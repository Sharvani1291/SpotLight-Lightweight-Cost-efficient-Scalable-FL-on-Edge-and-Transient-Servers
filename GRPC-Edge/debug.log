2025-01-09 19:03:44,926 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-09 19:03:44,926 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-09 19:03:44,927 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-09 19:03:44,928 - INFO - Registered tasks: dict_keys(['celery.chunks', 'celery.chord', 'celery.chord_unlock', 'celery.group', 'celery.map', 'celery.chain', 'celery.backend_cleanup', 'celery.starmap', 'celery.accumulate'])
2025-01-09 19:03:44,928 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-09 19:03:44,928 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-09 19:24:40,195 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-09 19:24:40,210 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-09 19:24:40,211 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-09 19:24:40,212 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-09 19:24:40,213 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-09 19:24:40,214 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-09 19:24:40,215 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-09 19:24:40,216 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-09 19:24:40,217 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-09 19:24:40,218 - INFO - Registered tasks: dict_keys(['celery.group', 'celery.map', 'celery.chain', 'celery.backend_cleanup', 'celery.starmap', 'celery.chord', 'celery.accumulate', 'celery.chunks', 'celery.chord_unlock'])
2025-01-09 19:24:40,219 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:24:40,220 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-09 19:24:40,228 - INFO - Top layer aggregator server started on port 8082.
2025-01-09 19:25:40,277 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-09 19:25:40,278 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-09 19:25:40,278 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-09 19:25:40,278 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-09 19:25:40,278 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-09 19:25:40,278 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-09 19:25:40,279 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-09 19:25:40,279 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-09 19:25:40,279 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-09 19:25:40,279 - INFO - Registered tasks: dict_keys(['celery.chunks', 'celery.chord', 'celery.chord_unlock', 'celery.group', 'celery.map', 'celery.chain', 'celery.backend_cleanup', 'celery.starmap', 'celery.accumulate'])
2025-01-09 19:25:40,279 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:25:40,279 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-09 19:26:55,267 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-09 19:26:55,267 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-09 19:26:55,267 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-09 19:26:55,267 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-09 19:26:55,268 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-09 19:26:57,572 - INFO - Top layer aggregator server started on port 8082.
2025-01-09 19:27:17,700 - INFO - Received aggregated weights from an aggregator.
2025-01-09 19:27:38,227 - INFO - Received aggregated weights from an aggregator.
2025-01-09 19:27:38,354 - INFO - Applied FedAvg and updated the global model.
2025-01-09 19:27:38,357 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:27:38,358 - ERROR - Exception calling application: send_model_to_l2_async() missing 1 required positional argument: 'model_name'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async(args=[updated_model_weights])  # Trigger Celery task to send the updated model
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: send_model_to_l2_async() missing 1 required positional argument: 'model_name'
2025-01-09 19:31:47,976 - INFO - Top layer aggregator server started on port 8082.
2025-01-09 19:31:58,596 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-09 19:31:58,596 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-09 19:31:58,596 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-09 19:31:58,596 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:31:58,597 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-09 19:32:17,980 - INFO - Received aggregated weights from an aggregator.
2025-01-09 19:32:18,000 - INFO - Applied FedAvg and updated the global model.
2025-01-09 19:32:18,003 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:32:18,004 - ERROR - Exception calling application: name 'updated_model_weights_l2' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights_l2, "SimpleCNN"))# Trigger Celery task to send the updated model
NameError: name 'updated_model_weights_l2' is not defined
2025-01-09 19:33:20,595 - INFO - Top layer aggregator server started on port 8082.
2025-01-09 19:33:41,614 - INFO - Received aggregated weights from an aggregator.
2025-01-09 19:33:41,703 - INFO - Applied FedAvg and updated the global model.
2025-01-09 19:33:41,706 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:33:41,750 - ERROR - Exception calling application: Object of type float32 is not JSON serializable
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights, "SimpleCNN"))# Trigger Celery task to send the updated model
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 799, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/amqp.py", line 518, in send_task_message
    ret = producer.publish(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 175, in publish
    body, content_type, content_encoding = self._prepare(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 268, in _prepare
    body) = dumps(body, serializer=serializer)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 219, in dumps
    with _reraise_errors(EncodeError):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 45, in _reraise_errors
    reraise(wrapper, wrapper(exc), sys.exc_info()[2])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/exceptions.py", line 34, in reraise
    raise value.with_traceback(tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
kombu.exceptions.EncodeError: Object of type float32 is not JSON serializable
2025-01-09 19:48:09,053 - INFO - Top layer aggregator server started on port 8082.
2025-01-09 19:48:26,726 - INFO - Received aggregated weights from an aggregator.
2025-01-09 19:48:26,807 - INFO - Applied FedAvg and updated the global model.
2025-01-09 19:48:26,810 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-09 19:48:26,812 - ERROR - Exception calling application: name 'updated_model_weights_l2' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights_l2, "SimpleCNN"))# Trigger Celery task to send the updated model
NameError: name 'updated_model_weights_l2' is not defined
2025-01-11 20:44:50,553 - INFO - Top layer aggregator server started on port 8082.
2025-01-11 20:45:37,194 - INFO - Received aggregated weights from an aggregator.
2025-01-11 20:45:37,249 - INFO - Applied FedAvg and updated the global model.
2025-01-11 20:45:37,253 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 20:45:37,254 - ERROR - Exception calling application: name 'updated_model_weights_l2' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights_l2, "SimpleCNN"))# Trigger Celery task to send the updated model
NameError: name 'updated_model_weights_l2' is not defined
2025-01-11 20:45:57,806 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-11 20:45:57,806 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-11 20:45:57,807 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-11 20:45:57,807 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-11 20:45:57,807 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-11 20:45:57,807 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-11 20:45:57,807 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-11 20:45:57,807 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-11 20:45:57,808 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-11 20:45:57,808 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 20:45:57,808 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-11 20:54:56,341 - INFO - Top layer aggregator server started on port 8082.
2025-01-11 20:55:17,614 - INFO - Received aggregated weights from an aggregator.
2025-01-11 20:55:17,633 - INFO - Applied FedAvg and updated the global model.
2025-01-11 20:55:17,637 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 20:55:17,674 - ERROR - Exception calling application: Object of type float32 is not JSON serializable
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type float32 is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights, "SimpleCNN"))  # Corrected variable
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 799, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/amqp.py", line 518, in send_task_message
    ret = producer.publish(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 175, in publish
    body, content_type, content_encoding = self._prepare(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 268, in _prepare
    body) = dumps(body, serializer=serializer)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 219, in dumps
    with _reraise_errors(EncodeError):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 45, in _reraise_errors
    reraise(wrapper, wrapper(exc), sys.exc_info()[2])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/exceptions.py", line 34, in reraise
    raise value.with_traceback(tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
kombu.exceptions.EncodeError: Object of type float32 is not JSON serializable
2025-01-11 20:56:42,410 - INFO - Top layer aggregator server started on port 8082.
2025-01-11 20:57:12,138 - INFO - Received aggregated weights from an aggregator.
2025-01-11 20:57:12,158 - INFO - Applied FedAvg and updated the global model.
2025-01-11 20:57:12,161 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 20:59:28,517 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-11 20:59:28,518 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-11 20:59:28,518 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-11 20:59:28,518 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-11 20:59:28,518 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-11 20:59:28,518 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-11 20:59:28,519 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-11 20:59:28,519 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-11 20:59:28,519 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-11 20:59:28,519 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 20:59:28,519 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-11 20:59:34,846 - INFO - Top layer aggregator server started on port 8082.
2025-01-11 20:59:54,145 - INFO - Received aggregated weights from an aggregator.
2025-01-11 20:59:54,165 - INFO - Applied FedAvg and updated the global model.
2025-01-11 20:59:54,168 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 21:03:08,049 - INFO - Top layer aggregator server started on port 8082.
2025-01-11 21:03:16,712 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-11 21:03:16,713 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-11 21:03:16,713 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-11 21:03:16,713 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-11 21:03:16,713 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-11 21:03:16,713 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-11 21:03:16,714 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-11 21:03:16,714 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-11 21:03:16,714 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 21:03:16,714 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-11 21:03:16,714 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-11 21:03:35,397 - INFO - Received aggregated weights from an aggregator.
2025-01-11 21:03:35,417 - INFO - Applied FedAvg and updated the global model.
2025-01-11 21:03:35,420 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-11 21:05:37,102 - INFO - Top layer aggregator server started on port 8082.
2025-01-11 21:05:58,189 - INFO - Received aggregated weights from an aggregator.
2025-01-11 21:05:58,209 - INFO - Applied FedAvg and updated the global model.
2025-01-11 21:05:58,212 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:04:51,105 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 15:05:05,723 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:05:05,723 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:05:05,723 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:05:05,723 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:05:05,724 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:05:47,532 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:05:47,621 - INFO - Applied FedAvg and updated the global model.
2025-01-15 15:05:47,624 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:11:54,082 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:11:54,083 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:11:54,083 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:11:54,083 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:11:54,083 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:11:54,083 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:11:54,084 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:11:54,084 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:11:54,084 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:11:54,084 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:11:54,084 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:11:58,907 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 15:12:40,148 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:12:40,322 - INFO - Applied FedAvg and updated the global model.
2025-01-15 15:12:40,438 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:16:37,968 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:16:37,968 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:16:37,968 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:16:37,969 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:16:37,969 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:16:37,969 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:16:37,969 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:16:37,970 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:16:37,970 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-15 15:16:37,970 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:16:37,970 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:16:38,198 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 15:17:11,240 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:17:11,336 - INFO - Applied FedAvg and updated the global model.
2025-01-15 15:17:11,338 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-15 15:17:11,339 - ERROR - Exception calling application: send_model_to_l2_async() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights, "SimpleCNN"))  # Corrected variable
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: send_model_to_l2_async() takes 1 positional argument but 2 were given
2025-01-15 15:21:08,707 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:21:08,708 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:21:08,708 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:21:08,708 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:21:08,709 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:21:08,709 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:21:08,709 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:21:08,709 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:21:08,709 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:21:08,709 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:21:08,710 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:21:53,661 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 15:22:37,714 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:22:37,939 - INFO - Applied FedAvg and updated the global model.
2025-01-15 15:22:37,971 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:43:29,615 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:43:29,640 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:43:29,640 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:43:29,640 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:43:29,641 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:43:33,581 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 15:44:08,338 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:44:08,338 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:44:08,339 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:44:08,339 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:44:08,339 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:44:08,339 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:44:08,340 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:44:08,340 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:44:08,340 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:44:08,340 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:44:08,340 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:44:37,245 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:44:37,391 - INFO - Applied FedAvg and updated the global model.
2025-01-15 15:44:37,393 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:44:37,430 - ERROR - Connection to Redis lost: Retry (0/20) now.
2025-01-15 15:44:37,430 - ERROR - Connection to Redis lost: Retry (1/20) in 1.00 second.
2025-01-15 15:44:38,431 - ERROR - Connection to Redis lost: Retry (2/20) in 1.00 second.
2025-01-15 15:44:39,433 - ERROR - Connection to Redis lost: Retry (3/20) in 1.00 second.
2025-01-15 15:44:40,434 - ERROR - Connection to Redis lost: Retry (4/20) in 1.00 second.
2025-01-15 15:44:41,435 - ERROR - Connection to Redis lost: Retry (5/20) in 1.00 second.
2025-01-15 15:44:42,437 - ERROR - Connection to Redis lost: Retry (6/20) in 1.00 second.
2025-01-15 15:44:43,438 - ERROR - Connection to Redis lost: Retry (7/20) in 1.00 second.
2025-01-15 15:44:44,439 - ERROR - Connection to Redis lost: Retry (8/20) in 1.00 second.
2025-01-15 15:44:45,441 - ERROR - Connection to Redis lost: Retry (9/20) in 1.00 second.
2025-01-15 15:44:46,442 - ERROR - Connection to Redis lost: Retry (10/20) in 1.00 second.
2025-01-15 15:44:47,443 - ERROR - Connection to Redis lost: Retry (11/20) in 1.00 second.
2025-01-15 15:44:48,445 - ERROR - Connection to Redis lost: Retry (12/20) in 1.00 second.
2025-01-15 15:44:49,446 - ERROR - Connection to Redis lost: Retry (13/20) in 1.00 second.
2025-01-15 15:44:50,447 - ERROR - Connection to Redis lost: Retry (14/20) in 1.00 second.
2025-01-15 15:44:51,449 - ERROR - Connection to Redis lost: Retry (15/20) in 1.00 second.
2025-01-15 15:44:52,450 - ERROR - Connection to Redis lost: Retry (16/20) in 1.00 second.
2025-01-15 15:44:53,451 - ERROR - Connection to Redis lost: Retry (17/20) in 1.00 second.
2025-01-15 15:44:54,453 - ERROR - Connection to Redis lost: Retry (18/20) in 1.00 second.
2025-01-15 15:44:55,454 - ERROR - Connection to Redis lost: Retry (19/20) in 1.00 second.
2025-01-15 15:44:56,455 - CRITICAL - 
Retry limit exceeded while trying to reconnect to the Celery redis result store backend. The Celery application must be restarted.

2025-01-15 15:44:56,456 - ERROR - Exception calling application: Error 111 connecting to 127.0.0.1:6380. Connection refused.
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 699, in connect
    sock = self.retry.call_with_retry(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/retry.py", line 46, in call_with_retry
    return do()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 700, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 1002, in _connect
    raise err
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 990, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 127, in reconnect_on_error
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/client.py", line 1634, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/client.py", line 1469, in execute_command
    self.connection = self.connection_pool.get_connection(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 1457, in get_connection
    connection.connect()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 705, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to 127.0.0.1:6380. Connection refused.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 699, in connect
    sock = self.retry.call_with_retry(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/retry.py", line 46, in call_with_retry
    return do()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 700, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 1002, in _connect
    raise err
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 990, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/connection.py", line 472, in _reraise_as_library_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 169, in consume_from
    return self.start(task_id)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 384, in ensure
    return retry_over_time(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/commands/core.py", line 1987, in mget
    return self.execute_command("MGET", *args, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/client.py", line 1266, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 1457, in get_connection
    connection.connect()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/redis/connection.py", line 705, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 111 connecting to 127.0.0.1:6380. Connection refused.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights, "SimpleCNN"))  # Corrected variable
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 594, in apply_async
    return app.send_task(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 111 connecting to 127.0.0.1:6380. Connection refused.
2025-01-15 15:49:23,688 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:49:23,705 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:49:23,705 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:49:23,705 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:49:23,706 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:49:23,706 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:49:23,706 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:49:23,706 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:49:23,706 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:49:23,707 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:49:23,707 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:55:07,359 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:55:07,359 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:55:07,359 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:55:07,360 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:55:07,360 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:55:07,360 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:55:07,360 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:55:07,360 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:55:07,360 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:55:07,361 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:55:07,361 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:55:17,093 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 15:55:59,638 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:55:59,780 - INFO - Applied FedAvg and updated the global model.
2025-01-15 15:55:59,787 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:59:13,807 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 15:59:13,807 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 15:59:13,807 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 15:59:13,807 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 15:59:13,807 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 15:59:13,808 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 15:59:13,808 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 15:59:13,808 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 15:59:13,808 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 15:59:13,808 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 15:59:13,808 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 15:59:33,048 - INFO - Received aggregated weights from an aggregator.
2025-01-15 15:59:33,066 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:05:41,969 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:05:41,970 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:05:41,971 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:05:41,971 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:05:41,972 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:05:41,972 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:05:41,972 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:05:41,973 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:05:41,973 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:05:41,973 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:05:41,974 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:06:01,799 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:06:01,821 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:11:25,662 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:11:25,662 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:11:25,662 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:11:25,662 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:11:25,663 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:11:25,663 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:11:25,663 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:11:25,663 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:11:25,663 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:11:25,663 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:11:25,664 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:15:22,771 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:15:22,790 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:16:40,652 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:16:40,652 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:16:40,652 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:16:40,653 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:16:40,653 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:16:40,653 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:16:40,653 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:16:40,653 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:16:40,653 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:16:40,654 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:16:40,654 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:16:45,541 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 16:17:03,929 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:17:04,012 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:17:04,015 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:28:17,074 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:28:17,074 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:28:17,074 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:28:17,074 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:28:17,075 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:28:39,559 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:28:39,579 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:32:48,790 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:32:48,790 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:32:48,791 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:32:48,791 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:32:48,791 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:32:48,791 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:32:48,791 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:32:48,792 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:32:48,792 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:32:48,792 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:32:48,792 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:33:08,034 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:33:08,117 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:34:41,321 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:34:41,321 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:34:41,322 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:34:41,322 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:34:41,322 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:34:41,322 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:34:41,322 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:34:41,322 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:34:41,323 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:34:41,323 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:34:41,323 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:35:58,079 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 16:37:04,861 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:37:04,861 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:37:04,862 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:37:04,863 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:37:04,863 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:37:33,584 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:37:33,603 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:37:33,606 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:39:24,950 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:39:24,950 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:39:24,950 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:39:24,950 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:39:24,951 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:39:24,951 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:39:24,951 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:39:24,951 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:39:24,951 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:39:24,951 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:39:24,952 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:39:51,056 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:39:51,075 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:41:49,798 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:41:49,799 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:41:49,799 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:41:49,799 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:41:49,799 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:41:49,799 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:41:49,800 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:41:49,800 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:41:49,800 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:41:49,800 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:41:49,800 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:42:09,791 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:42:09,868 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:51:25,831 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:51:25,831 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:51:25,831 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:51:25,831 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:51:25,831 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:51:25,832 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:51:25,832 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:51:25,832 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:51:25,832 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:51:25,832 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:51:25,832 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:52:36,071 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:52:36,071 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:52:36,072 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:52:36,072 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:52:36,073 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:52:36,073 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:52:36,073 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:52:36,073 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:52:36,074 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:52:36,074 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:52:36,074 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:52:41,447 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 16:53:01,589 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:53:01,676 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:53:01,679 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:54:52,745 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 16:55:05,392 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:55:05,392 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:55:05,392 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:55:05,392 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:55:05,392 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:55:05,393 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:55:05,393 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:55:05,393 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:55:05,393 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:55:05,393 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:55:05,393 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:55:26,075 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:55:26,098 - INFO - Applied FedAvg and updated the global model.
2025-01-15 16:55:26,101 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:58:11,495 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 16:58:11,495 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 16:58:11,495 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 16:58:11,496 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 16:58:11,496 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 16:58:11,496 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 16:58:11,496 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 16:58:11,497 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 16:58:11,497 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 16:58:11,497 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 16:58:11,497 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 16:59:30,372 - INFO - Received aggregated weights from an aggregator.
2025-01-15 16:59:30,442 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:00:18,055 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 17:00:18,055 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 17:00:18,056 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 17:00:18,056 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 17:00:18,056 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 17:00:18,056 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 17:00:18,057 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 17:00:18,057 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 17:00:18,057 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 17:00:18,057 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 17:00:18,057 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 17:02:59,597 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:03:17,558 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:03:17,578 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:03:17,578 - ERROR - Exception calling application: name 'store_aggregated_weights' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 54, in SendAggregatedWeights
    store_aggregated_weights.apply_async((updated_model_weights, "SimpleCNN"))
NameError: name 'store_aggregated_weights' is not defined
2025-01-15 17:03:34,532 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:03:52,606 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:03:52,695 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:03:52,695 - ERROR - Exception calling application: 'function' object has no attribute 'apply_async'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 54, in SendAggregatedWeights
    store_aggregated_weights.apply_async((updated_model_weights, "SimpleCNN"))
AttributeError: 'function' object has no attribute 'apply_async'
2025-01-15 17:06:15,695 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:06:34,739 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:06:34,759 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:06:34,760 - ERROR - Exception calling application: name 'app_celery' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 55, in SendAggregatedWeights
    task_result = app_celery.send_task('celery_tasks.store_aggregated_weights_task', args=[updated_model_weights, model_name])
NameError: name 'app_celery' is not defined
2025-01-15 17:10:45,038 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:11:03,866 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:11:03,950 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:11:03,950 - ERROR - Exception calling application: local variable 'updated_model_weights' referenced before assignment
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 62, in SendAggregatedWeights
    task_result = app_celery.send_task('celery_tasks.store_aggregated_weights_task', args=[updated_model_weights, model_name])
UnboundLocalError: local variable 'updated_model_weights' referenced before assignment
2025-01-15 17:11:31,723 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:11:49,567 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:11:49,652 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:11:49,710 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 17:11:49,737 - INFO - Model weights sent successfully to simplecnn_l2.
2025-01-15 17:13:40,027 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:13:58,034 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:13:58,053 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:13:58,097 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 17:15:36,519 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:15:55,346 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:15:55,366 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:15:55,415 - ERROR - Exception calling application: 'celery_tasks.store_aggregated_weights_task'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 65, in SendAggregatedWeights
    current_time = task_result.get()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 251, in get
    return self.backend.wait_for_pending(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/asynchronous.py", line 223, in wait_for_pending
    return result.maybe_throw(callback=callback, propagate=propagate)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 365, in maybe_throw
    self.throw(value, self._to_remote_traceback(tb))
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 358, in throw
    self.on_ready.throw(*args, **kwargs)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/promises.py", line 235, in throw
    reraise(type(exc), exc, tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/utils.py", line 27, in reraise
    raise value
celery.exceptions.NotRegistered: 'celery_tasks.store_aggregated_weights_task'
2025-01-15 17:16:25,778 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:16:44,602 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:16:44,679 - INFO - Applied FedAvg and updated the global model.
2025-01-15 17:16:44,806 - INFO - Task result: 678833cc1df3bc065beb3d7d
2025-01-15 17:16:44,806 - ERROR - Exception calling application: name 'current_version' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 67, in SendAggregatedWeights
    logging.info(f"Global model updated. Inserted ID: {current_time}, Version: {current_version}")
NameError: name 'current_version' is not defined
2025-01-15 17:24:58,553 - INFO - Starting gRPC server...
2025-01-15 17:29:59,858 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:30:15,060 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 17:30:15,060 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 17:30:15,060 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 17:30:15,060 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 17:30:15,060 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 17:30:15,061 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 17:30:15,061 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 17:30:15,061 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 17:30:15,061 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 17:30:15,061 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 17:30:15,061 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 17:30:36,923 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:30:36,942 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 17:30:36,997 - ERROR - Exception calling application: store_aggregated_weights_task() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 68, in SendAggregatedWeights
    current_time = task_result.get()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 251, in get
    return self.backend.wait_for_pending(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/asynchronous.py", line 223, in wait_for_pending
    return result.maybe_throw(callback=callback, propagate=propagate)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 365, in maybe_throw
    self.throw(value, self._to_remote_traceback(tb))
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 358, in throw
    self.on_ready.throw(*args, **kwargs)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/promises.py", line 235, in throw
    reraise(type(exc), exc, tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/utils.py", line 27, in reraise
    raise value
TypeError: store_aggregated_weights_task() takes 2 positional arguments but 3 were given
2025-01-15 17:31:54,410 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:32:13,393 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:32:13,466 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 17:32:13,549 - INFO - Task result: 6788376de00c571f07504af7
2025-01-15 17:32:13,549 - INFO - Global model updated. Inserted ID: 6788376de00c571f07504af7, Version: 1
2025-01-15 17:32:13,549 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 17:32:13,549 - ERROR - Exception calling application: send_model_to_l2_async() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 72, in SendAggregatedWeights
    send_model_to_l2_async.apply_async((updated_model_weights, model_name, self.version))
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: send_model_to_l2_async() takes 2 positional arguments but 3 were given
2025-01-15 17:32:41,503 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 17:32:59,143 - INFO - Received aggregated weights from an aggregator.
2025-01-15 17:32:59,162 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 17:32:59,273 - INFO - Task result: 6788379be00c571f07504af9
2025-01-15 17:32:59,274 - INFO - Global model updated. Inserted ID: 6788379be00c571f07504af9, Version: 1
2025-01-15 17:32:59,275 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 19:47:04,521 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 19:47:04,521 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 19:47:04,522 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 19:47:04,522 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 19:47:04,522 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 19:47:04,523 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 19:47:04,523 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 19:47:04,523 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 19:47:04,523 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 19:47:04,523 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 19:47:04,523 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 19:47:09,790 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 19:47:33,560 - INFO - Received aggregated weights from an aggregator.
2025-01-15 19:47:33,614 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 19:47:33,699 - INFO - Task result: 6788572536f20d9a7b8354ae
2025-01-15 19:47:33,699 - INFO - Global model updated. Inserted ID: 6788572536f20d9a7b8354ae, Version: 1
2025-01-15 19:47:33,699 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 19:48:23,378 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 19:48:23,378 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 19:48:23,378 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 19:48:23,378 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 19:48:23,379 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 19:48:56,411 - INFO - Received aggregated weights from an aggregator.
2025-01-15 19:48:56,498 - INFO - Applied FedAvg and updated the global model. Current version: 2
2025-01-15 19:48:56,580 - INFO - Task result: 678857781618a717916aace6
2025-01-15 19:48:56,580 - INFO - Global model updated. Inserted ID: 678857781618a717916aace6, Version: 2
2025-01-15 19:52:57,629 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 19:52:57,629 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2, model_name):
    return 1

2025-01-15 19:52:57,629 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 19:52:57,629 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 19:52:57,629 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 19:52:57,630 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 19:52:57,630 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 19:52:57,630 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 19:52:57,630 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 19:52:57,630 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 19:52:57,630 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 19:53:26,147 - INFO - Received aggregated weights from an aggregator.
2025-01-15 19:53:26,194 - INFO - Applied FedAvg and updated the global model. Current version: 3
2025-01-15 19:53:26,347 - INFO - Task result: 6788588651cb10b13f943860
2025-01-15 19:53:26,347 - INFO - Global model updated. Inserted ID: 6788588651cb10b13f943860, Version: 3
2025-01-15 20:14:30,198 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 20:14:30,198 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 20:14:30,198 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 20:14:30,198 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 20:14:30,198 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 20:14:30,198 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 20:14:30,199 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-15 20:14:30,199 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 20:14:30,199 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 20:14:30,199 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 20:14:30,199 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 20:14:33,561 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 20:14:54,861 - ERROR - Exception calling application: version
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 96, in SendAggregatedWeights
    logging.info(f"Received aggregated weights with version: {request.version}")
AttributeError: version
2025-01-15 20:18:05,780 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 20:18:24,382 - INFO - Received aggregated weights with version: 0
2025-01-15 20:18:24,494 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 20:18:25,575 - INFO - Task result: 67885e61aa79b9f32fc3cbe7
2025-01-15 20:18:25,575 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-15 20:18:25,581 - ERROR - Exception calling application: send_model_to_l2_async() takes 1 positional argument but 421642 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 125, in SendAggregatedWeights
    send_model_to_l2_async.apply_async(updated_model_weights)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: send_model_to_l2_async() takes 1 positional argument but 421642 were given
2025-01-15 20:59:11,873 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 20:59:33,955 - INFO - Received aggregated weights with version: 0
2025-01-15 20:59:33,974 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 20:59:35,069 - INFO - Task result: 67886806aa79b9f32fc3cbe9
2025-01-15 20:59:35,069 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 20:59:35,069 - INFO - Contents of updated_model_weights: [0.276418536901474, -0.06673070043325424, 0.21480342745780945, 0.004255454055964947, 0.3051377534866333, -0.021841049194335938, -0.277625173330307, 0.03024125099182129, 0.11543973535299301, -0.00873764418065548]...
2025-01-15 20:59:35,069 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-15 20:59:35,075 - ERROR - Exception calling application: send_model_to_l2_async() takes 1 positional argument but 421642 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 134, in SendAggregatedWeights
    send_model_to_l2_async.apply_async(updated_model_weights)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: send_model_to_l2_async() takes 1 positional argument but 421642 were given
2025-01-15 21:02:54,206 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:03:12,485 - INFO - Received aggregated weights with version: 0
2025-01-15 21:03:12,605 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:03:13,682 - INFO - Task result: 678868e1aa79b9f32fc3cbeb
2025-01-15 21:03:13,682 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 21:03:13,683 - INFO - Contents of updated_model_weights: [0.276418536901474, -0.06673070043325424, 0.21480342745780945, 0.004255454055964947, 0.3051377534866333, -0.021841049194335938, -0.277625173330307, 0.03024125099182129, 0.11543973535299301, -0.00873764418065548]...
2025-01-15 21:03:13,683 - DEBUG - 
def send_model_to_l2_async(updated_model_weights_l2):
    return 1

2025-01-15 21:07:07,121 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 21:07:07,121 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 21:07:07,121 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 21:07:07,122 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 21:07:07,122 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 21:07:07,122 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 21:07:07,122 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:07:07,122 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 21:07:07,122 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 21:07:07,123 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 21:07:07,123 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 21:10:59,908 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:11:38,201 - INFO - Received aggregated weights with version: 0
2025-01-15 21:11:38,300 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:11:39,325 - INFO - Task result: 67886adbe359d5c904f8b664
2025-01-15 21:11:39,325 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 21:11:39,325 - INFO - Contents of updated_model_weights: [-0.18230681121349335, 0.32586270570755005, -0.09184873104095459, 0.06041765213012695, -0.2943582236766815, -0.004678130149841309, -0.2857557237148285, 0.12920448184013367, 0.2459772527217865, 0.30561932921409607]...
2025-01-15 21:11:39,325 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:42:59,787 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:43:10,046 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 21:43:10,046 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 21:43:10,046 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 21:43:10,047 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:43:10,048 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 21:43:19,408 - INFO - Received aggregated weights with version: 0
2025-01-15 21:43:19,526 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:43:20,645 - INFO - Task result: 67887248cc51355fdec768da
2025-01-15 21:43:20,646 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 21:43:20,646 - INFO - Contents of updated_model_weights: [-0.18230681121349335, 0.32586270570755005, -0.09184873104095459, 0.06041765213012695, -0.2943582236766815, -0.004678130149841309, -0.2857557237148285, 0.12920448184013367, 0.2459772527217865, 0.30561932921409607]...
2025-01-15 21:43:20,647 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:44:33,142 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 21:44:33,143 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 21:44:33,143 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 21:44:33,143 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 21:44:33,143 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 21:44:33,143 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 21:44:33,144 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:44:33,144 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 21:44:33,144 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 21:44:33,144 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 21:44:33,144 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 21:44:41,172 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:45:08,581 - INFO - Received aggregated weights with version: 0
2025-01-15 21:45:08,701 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:45:09,736 - INFO - Task result: 678872b56adf8f07c0b56535
2025-01-15 21:45:09,736 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 21:45:09,737 - INFO - Contents of updated_model_weights: [0.05583151429891586, 0.10079892724752426, 0.08788120746612549, -0.060609739273786545, 0.061591826379299164, 0.04758600518107414, -0.08573436737060547, 0.28304868936538696, -0.24075746536254883, -0.1331307590007782]...
2025-01-15 21:45:09,737 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:46:22,447 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 21:46:22,447 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 21:46:22,447 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 21:46:22,448 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 21:46:22,449 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 21:46:26,497 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:46:44,923 - INFO - Received aggregated weights with version: 0
2025-01-15 21:46:44,942 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:46:46,002 - INFO - Task result: 67887315771076098d04b02f
2025-01-15 21:46:46,002 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 21:46:46,002 - INFO - Contents of updated_model_weights: [-0.2068801373243332, -0.2500781714916229, -0.2965257167816162, -0.32639139890670776, 0.0703691691160202, -0.18315860629081726, 0.09121605008840561, 0.07444524765014648, -0.13179437816143036, -0.16674470901489258]...
2025-01-15 21:46:46,002 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:54:29,169 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 21:54:29,169 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 21:54:29,170 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:54:29,171 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 21:54:29,171 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 21:54:37,457 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:55:01,967 - INFO - Received aggregated weights with version: 0
2025-01-15 21:55:01,986 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:55:03,110 - INFO - Task result: 67887506fb5e0ec4ec6b8d99
2025-01-15 21:55:03,110 - INFO - Type of updated_model_weights: <class 'list'>
2025-01-15 21:55:03,111 - INFO - Contents of updated_model_weights: [0.10874132812023163, -0.060861825942993164, -0.07445339858531952, 0.27774059772491455, 0.19656440615653992, 0.32590803503990173, 0.2885189950466156, -0.1566423624753952, 0.08514460176229477, 0.27705150842666626]...
2025-01-15 21:55:03,111 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:59:06,334 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 21:59:18,744 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 21:59:18,745 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 21:59:18,745 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 21:59:18,745 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 21:59:18,745 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 21:59:18,745 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 21:59:18,745 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 21:59:18,746 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 21:59:18,746 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 21:59:18,746 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 21:59:18,746 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 21:59:43,501 - INFO - Received aggregated weights with version: 0
2025-01-15 21:59:43,611 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 21:59:44,665 - INFO - Task result: 67887620c39073a285aa9f6a
2025-01-15 21:59:44,665 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:03:15,193 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 22:03:22,614 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 22:03:22,615 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 22:03:22,615 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 22:03:22,615 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 22:03:22,615 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:03:22,615 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 22:03:22,616 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 22:03:22,616 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 22:03:22,616 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 22:03:22,616 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 22:03:22,616 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 22:03:41,836 - INFO - Received aggregated weights with version: 0
2025-01-15 22:03:41,856 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 22:03:42,914 - INFO - Task result: 6788770eaa2ad6fe0423a9f1
2025-01-15 22:03:42,915 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:09:42,588 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 22:09:42,589 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 22:09:42,589 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 22:09:42,589 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 22:09:42,589 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 22:09:42,589 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 22:09:42,589 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 22:09:42,590 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 22:09:42,590 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:09:42,590 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 22:09:42,590 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 22:09:46,895 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 22:10:06,060 - INFO - Received aggregated weights with version: 0
2025-01-15 22:10:06,079 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 22:10:07,160 - INFO - Task result: 6788788ea51924db3caaf271
2025-01-15 22:10:07,161 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:19:34,895 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 22:19:43,203 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 22:19:43,203 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 22:19:43,204 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 22:19:43,204 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 22:19:43,204 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:19:43,204 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 22:19:43,204 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 22:19:43,204 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 22:19:43,205 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 22:19:43,205 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 22:19:43,205 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 22:20:04,845 - INFO - Received aggregated weights with version: 0
2025-01-15 22:20:04,866 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 22:20:05,966 - INFO - Task result: 67887ae5c42e74d3e008a503
2025-01-15 22:20:05,966 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:26:58,554 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 22:27:06,057 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 22:27:06,057 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 22:27:06,057 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 22:27:06,058 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 22:27:06,059 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 22:27:33,527 - INFO - Received aggregated weights with version: 0
2025-01-15 22:27:33,547 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 22:27:34,695 - INFO - Task result: 67887ca6af52f9680ecf454f
2025-01-15 22:27:34,695 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:29:25,318 - INFO - Top layer aggregator server started on port 8082.
2025-01-15 22:29:31,787 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-15 22:29:31,788 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-15 22:29:31,788 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-15 22:29:31,788 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-15 22:29:31,788 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-15 22:29:31,788 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-15 22:29:31,788 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-15 22:29:31,789 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-15 22:29:31,789 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-15 22:29:31,789 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-15 22:29:31,789 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-15 22:29:57,027 - INFO - Received aggregated weights with version: 0
2025-01-15 22:29:57,048 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-15 22:29:58,171 - INFO - Task result: 67887d352b6dc2912c4e422d
2025-01-15 22:29:58,172 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-16 20:18:13,872 - INFO - Top layer aggregator server started on port 8082.
2025-01-16 20:20:06,782 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-16 20:20:06,782 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-16 20:20:06,782 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-16 20:20:06,782 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-16 20:20:06,783 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-16 20:21:06,640 - INFO - Received aggregated weights with version: 0
2025-01-16 20:21:06,881 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-16 20:21:08,092 - INFO - Task result: 6789b083fcb829b174faba18
2025-01-16 20:21:08,092 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-16 23:20:37,550 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-16 23:20:37,550 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-16 23:20:37,550 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-16 23:20:37,551 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-16 23:20:37,552 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-16 23:55:37,370 - INFO - Top layer aggregator server started on port 8082.
2025-01-16 23:56:10,761 - INFO - Top layer aggregator server started on port 8082.
2025-01-16 23:56:33,069 - INFO - Received aggregated weights with version: 0
2025-01-16 23:56:33,088 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-16 23:56:34,268 - INFO - Task result: 6789e301c7c4af20f43df19b
2025-01-16 23:56:34,269 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-17 15:18:23,945 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-17 15:18:23,952 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-17 15:18:23,952 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-17 15:18:23,953 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-17 15:18:23,954 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-17 15:18:23,954 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-17 15:18:23,955 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-17 15:18:23,956 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-17 15:18:23,956 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-17 15:18:23,957 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-17 15:18:23,958 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-17 15:19:37,906 - INFO - Top layer aggregator server started on port 8082.
2025-01-18 15:16:20,866 - INFO - Top layer aggregator server started on port 8082.
2025-01-18 15:20:44,860 - INFO - Received aggregated weights with version: 0
2025-01-18 15:20:45,152 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-18 15:21:10,395 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-18 15:21:10,395 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-18 15:21:10,395 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-18 15:21:10,395 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-18 15:21:10,395 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-18 15:21:10,396 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-18 15:21:10,396 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-18 15:21:10,396 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-18 15:21:10,396 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-18 15:21:10,396 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-18 15:21:10,396 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-18 15:21:12,487 - INFO - Task result: 678c0d38e6199c29ace06d3a
2025-01-18 15:21:12,487 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-18 15:21:29,534 - INFO - Received aggregated weights with version: 0
2025-01-18 15:21:29,624 - INFO - Applied FedAvg and updated the global model. Current version: 2
2025-01-18 15:21:30,856 - INFO - Task result: 678c0d4ae6199c29ace06d3c
2025-01-19 02:03:39,524 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:03:39,525 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:03:39,525 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:03:39,525 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:03:39,525 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:03:39,525 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:03:39,525 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:03:39,526 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:03:39,526 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:03:39,526 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:03:39,526 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:03:57,790 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:04:25,048 - INFO - Received aggregated weights with version: 0
2025-01-19 02:04:25,131 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:04:26,371 - INFO - Task result: 678ca3fa8c6b96533c85e24e
2025-01-19 02:04:26,371 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:06:46,927 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:06:46,927 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:06:46,928 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:06:46,928 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:06:46,928 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:06:46,928 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:06:46,928 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:06:46,928 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:06:46,929 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:06:46,929 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:06:46,929 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:07:10,557 - INFO - Received aggregated weights with version: 0
2025-01-19 02:07:10,646 - INFO - Applied FedAvg and updated the global model. Current version: 2
2025-01-19 02:07:11,811 - INFO - Task result: 678ca49fb5df76c86a523208
2025-01-19 02:12:59,787 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:12:59,796 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:12:59,796 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:12:59,796 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:12:59,796 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:12:59,797 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:12:59,797 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:12:59,797 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:12:59,797 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:12:59,797 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:12:59,797 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:13:06,417 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:13:25,239 - INFO - Received aggregated weights with version: 0
2025-01-19 02:13:25,258 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:13:26,467 - INFO - Task result: 678ca6163cecd267c8b1f927
2025-01-19 02:13:26,467 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:18:50,222 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:19:02,260 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:19:02,261 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:19:02,261 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:19:02,261 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:19:02,261 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:19:02,261 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:19:02,262 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:19:02,262 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:19:02,262 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:19:02,262 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:19:02,262 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:19:22,382 - INFO - Received aggregated weights with version: 0
2025-01-19 02:19:22,402 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:19:23,585 - INFO - Task result: 678ca77bc05f8fb9c8bc7d5b
2025-01-19 02:19:23,586 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:22:46,526 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:22:53,582 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:22:53,582 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:22:53,583 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:22:53,583 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:22:53,583 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:22:53,583 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:22:53,584 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:22:53,584 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:22:53,584 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:22:53,584 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:22:53,585 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:23:17,928 - INFO - Received aggregated weights with version: 0
2025-01-19 02:23:18,055 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:23:19,224 - INFO - Task result: 678ca8662827e8e27eabc391
2025-01-19 02:23:19,225 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:28:45,287 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:28:55,569 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:28:55,569 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:28:55,570 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:28:55,570 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:28:55,570 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:28:55,570 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:28:55,570 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:28:55,570 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:28:55,571 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:28:55,571 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:28:55,571 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:29:16,185 - INFO - Received aggregated weights with version: 0
2025-01-19 02:29:16,268 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:29:17,427 - INFO - Task result: 678ca9cdb6959ad8ace884dc
2025-01-19 02:29:17,428 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:30:59,975 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:31:08,365 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:31:08,365 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:31:08,365 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:31:08,365 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:31:08,366 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:31:08,366 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:31:08,366 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:31:08,366 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:31:08,366 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:31:08,366 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:31:08,367 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:31:28,937 - INFO - Received aggregated weights with version: 0
2025-01-19 02:31:29,049 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:31:30,182 - INFO - Task result: 678caa51776c85930be87eb0
2025-01-19 02:31:30,183 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:32:22,320 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:32:27,483 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:32:27,484 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:32:27,484 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:32:27,484 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:32:27,484 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:32:27,484 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:32:27,484 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:32:27,485 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:32:27,485 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:32:27,485 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:32:27,485 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:32:49,770 - INFO - Received aggregated weights with version: 0
2025-01-19 02:32:49,793 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:32:50,950 - INFO - Task result: 678caaa291fef1afade12971
2025-01-19 02:32:50,950 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:34:17,390 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:34:17,391 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:34:17,391 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:34:17,391 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:34:17,391 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:34:17,391 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:34:17,392 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:34:17,392 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:34:17,392 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:34:17,392 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:34:17,392 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:34:23,118 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:34:41,879 - INFO - Received aggregated weights with version: 0
2025-01-19 02:34:41,898 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:34:43,024 - INFO - Task result: 678cab128d8652181ad4b348
2025-01-19 02:34:43,025 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:42:57,672 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:42:57,672 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:42:57,672 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:42:57,672 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:42:57,672 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:42:57,672 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:42:57,673 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:42:57,673 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:42:57,673 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:42:57,673 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:42:57,673 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:43:03,614 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:43:22,194 - INFO - Received aggregated weights with version: 0
2025-01-19 02:43:22,292 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:43:23,434 - INFO - Task result: 678cad1b2e221c09d7ae963c
2025-01-19 02:43:23,435 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:46:25,804 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 02:46:25,804 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 02:46:25,805 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 02:46:25,805 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 02:46:25,805 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 02:46:25,805 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 02:46:25,805 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 02:46:25,805 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 02:46:25,806 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 02:46:25,806 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 02:46:25,806 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 02:46:29,414 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 02:46:47,502 - INFO - Received aggregated weights with version: 0
2025-01-19 02:46:47,627 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 02:46:48,784 - INFO - Task result: 678cade8b6811ae18a5f7f42
2025-01-19 02:46:48,785 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:20:03,108 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:20:12,651 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:20:12,651 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 03:20:12,651 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 03:20:12,652 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 03:20:12,652 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 03:20:12,652 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 03:20:12,652 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 03:20:12,652 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 03:20:12,652 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 03:20:12,653 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 03:20:12,653 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 03:20:41,203 - ERROR - Exception calling application: local variable 'request_counter' referenced before assignment
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 96, in SendAggregatedWeights
    request_counter += 1
UnboundLocalError: local variable 'request_counter' referenced before assignment
2025-01-19 03:21:22,748 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:21:34,845 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:21:34,845 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 03:21:34,846 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 03:21:34,846 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 03:21:34,846 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 03:21:34,846 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 03:21:34,846 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 03:21:34,846 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 03:21:34,847 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 03:21:34,847 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 03:21:34,847 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 03:21:53,378 - INFO - Received aggregated weights with version: 0
2025-01-19 03:21:53,400 - ERROR - Exception calling application: name 'time' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 113, in SendAggregatedWeights
    start_time = time.time()
NameError: name 'time' is not defined
2025-01-19 03:22:25,322 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:22:43,652 - INFO - Received aggregated weights with version: 0
2025-01-19 03:22:43,765 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:22:43,778 - ERROR - Exception calling application: client_training_time
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 131, in SendAggregatedWeights
    "Client_training_time": request.client_training_time,
AttributeError: client_training_time
2025-01-19 03:26:11,155 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:26:38,406 - INFO - Received aggregated weights with version: 0
2025-01-19 03:26:38,519 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:26:38,532 - ERROR - Exception calling application: client_training_time
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 131, in SendAggregatedWeights
    "Client_training_time": request.client_training_time,
AttributeError: client_training_time
2025-01-19 03:27:07,103 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:27:30,808 - INFO - Received aggregated weights with version: 0
2025-01-19 03:27:30,930 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:27:30,954 - ERROR - Exception calling application: name 'datetime' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 131, in SendAggregatedWeights
    "DateTime": datetime.utcnow(),
NameError: name 'datetime' is not defined
2025-01-19 03:28:04,358 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:28:22,365 - INFO - Received aggregated weights with version: 0
2025-01-19 03:28:22,385 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:28:23,563 - INFO - Task result: 678cb7a75eb277b1bf23b2e0
2025-01-19 03:28:23,564 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:31:18,692 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:31:28,105 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:31:28,105 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 03:31:28,106 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 03:31:28,106 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 03:31:28,106 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 03:31:28,106 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 03:31:28,106 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 03:31:28,106 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 03:31:28,107 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 03:31:28,107 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 03:31:28,107 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 03:31:47,233 - INFO - Received aggregated weights with version: 0
2025-01-19 03:31:47,253 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:31:48,414 - INFO - Task result: 678cb87452a7d18eddf9c2ef
2025-01-19 03:31:48,414 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:33:31,306 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:34:54,456 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:34:54,457 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 03:34:54,457 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 03:34:54,457 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 03:34:54,457 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 03:34:54,457 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 03:34:54,457 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 03:34:54,458 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 03:34:54,458 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 03:34:54,458 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 03:34:54,458 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 03:34:58,868 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:35:17,237 - INFO - Received aggregated weights with version: 0
2025-01-19 03:35:17,334 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:35:18,459 - INFO - Task result: 678cb94648f74a968d91bed5
2025-01-19 03:35:18,460 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:41:29,593 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:41:29,593 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 03:41:29,593 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 03:41:29,593 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 03:41:29,593 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 03:41:29,594 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 03:41:29,594 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 03:41:29,594 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 03:41:29,594 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 03:41:29,594 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 03:41:29,594 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 03:41:33,031 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:41:51,516 - INFO - Received aggregated weights with version: 0
2025-01-19 03:41:51,516 - WARNING - Client version 0 is behind the server version 1. Fetching latest weights from MongoDB.
2025-01-19 03:41:51,635 - INFO - Latest entry ID: 678cbace5eee4cf5bed3d564, Version: 2
2025-01-19 03:41:51,677 - INFO - Loaded latest model weights from MongoDB.
2025-01-19 03:41:51,782 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:41:52,860 - INFO - Task result: 678cbad0221f3b44133b20da
2025-01-19 03:41:52,861 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:41:53,256 - INFO - Model weights sent successfully to L2 server.
2025-01-19 03:46:27,489 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:46:27,489 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-01-19 03:46:27,489 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-01-19 03:46:27,489 - DEBUG - 
def backend_cleanup():
    return 1

2025-01-19 03:46:27,489 - DEBUG - 
def xmap(task, it):
    return 1

2025-01-19 03:46:27,490 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-01-19 03:46:27,490 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-01-19 03:46:27,490 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-01-19 03:46:27,490 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-01-19 03:46:27,490 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-01-19 03:46:27,490 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-01-19 03:46:33,415 - INFO - Top layer aggregator server started on port 8082.
2025-01-19 03:46:52,027 - INFO - Received aggregated weights with version: 1
2025-01-19 03:46:52,027 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-01-19 03:46:52,146 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-01-19 03:46:53,182 - INFO - Task result: 678cbbfcc7a27f9d80a75872
2025-01-19 03:46:53,183 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-01-19 03:46:53,548 - INFO - Model weights sent successfully to L2 server.
2025-01-19 03:47:34,110 - INFO - Received aggregated weights with version: 3
2025-01-19 03:47:34,110 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-01-19 03:47:34,191 - INFO - Latest entry ID: 678cbc25bd5a61955761ece8, Version: 3
2025-01-19 03:47:34,215 - INFO - Loaded latest model weights from MongoDB.
2025-01-19 03:47:34,237 - INFO - Applied FedAvg and updated the global model. Current version: 2
2025-01-19 03:47:35,262 - INFO - Task result: 678cbc26c7a27f9d80a75874
2025-01-19 03:47:35,614 - INFO - Model weights sent successfully to L2 server.
2025-02-10 20:20:48,238 - INFO - Top layer aggregator server started on port 8082.
2025-02-10 20:23:02,583 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-10 20:23:02,583 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-10 20:23:02,583 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-10 20:23:02,584 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-10 20:23:02,584 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-10 20:23:02,584 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-10 20:23:02,584 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-10 20:23:02,585 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-10 20:23:02,585 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-10 20:23:02,585 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-10 20:23:02,585 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-10 20:26:58,670 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-10 20:26:58,696 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-10 20:26:58,697 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-10 20:26:58,698 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-10 20:26:58,699 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-10 20:26:58,700 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-10 20:26:58,701 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-10 20:26:58,702 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-10 20:26:58,703 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-10 20:26:58,704 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-10 20:26:58,705 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-10 20:27:23,974 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-10 20:27:23,975 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-10 20:27:23,975 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-10 20:27:23,975 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-10 20:27:23,975 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-10 20:27:23,975 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-10 20:27:23,975 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-10 20:27:23,976 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-10 20:27:23,976 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-10 20:27:23,976 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-10 20:27:23,976 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-10 20:40:21,220 - INFO - Top layer aggregator server started on port 8082.
2025-02-10 20:40:52,124 - INFO - Received aggregated weights with version: 3
2025-02-10 20:40:52,124 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-10 20:40:52,259 - INFO - Latest entry ID: 678cbc26c7a27f9d80a75874, Version: 2
2025-02-10 20:40:52,303 - INFO - Loaded latest model weights from MongoDB.
2025-02-10 20:40:52,327 - ERROR - Exception calling application: 'list' object has no attribute 'state_dict'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.aggregated_weights, self.sample_counts)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 4, in fed_avg
    new_state_dict = global_model.state_dict()
AttributeError: 'list' object has no attribute 'state_dict'
2025-02-10 20:58:29,056 - INFO - Top layer aggregator server started on port 8082.
2025-02-10 21:01:15,553 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-10 21:01:15,553 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-10 21:01:15,554 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-10 21:01:15,554 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-10 21:01:15,554 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-10 21:01:15,554 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-10 21:01:15,554 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-10 21:01:15,555 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-10 21:01:15,555 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-10 21:01:15,555 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-10 21:01:15,555 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-10 21:01:22,663 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:18:24,011 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-12 18:18:24,128 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-12 18:18:24,129 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-12 18:18:24,130 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-12 18:18:24,132 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-12 18:18:24,133 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-12 18:18:24,134 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-12 18:18:24,135 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-12 18:18:24,136 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-12 18:18:24,137 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-12 18:18:24,137 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-12 18:23:00,654 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:25:18,262 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:25:40,889 - INFO - Received aggregated weights with version: 3
2025-02-12 18:25:40,890 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 18:25:40,977 - INFO - Latest entry ID: 678cbc26c7a27f9d80a75874, Version: 2
2025-02-12 18:25:41,019 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 18:25:41,045 - ERROR - Exception calling application: 'list' object has no attribute 'state_dict'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.aggregated_weights, self.sample_counts)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 4, in fed_avg
    new_state_dict = global_model.state_dict()
AttributeError: 'list' object has no attribute 'state_dict'
2025-02-12 18:29:53,849 - INFO - Received aggregated weights with version: 4
2025-02-12 18:29:53,849 - WARNING - Client version 4 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 18:29:53,924 - INFO - Latest entry ID: 678cbc26c7a27f9d80a75874, Version: 2
2025-02-12 18:29:53,951 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 18:29:53,976 - ERROR - Exception calling application: 'list' object has no attribute 'state_dict'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.aggregated_weights, self.sample_counts)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 4, in fed_avg
    new_state_dict = global_model.state_dict()
AttributeError: 'list' object has no attribute 'state_dict'
2025-02-12 18:37:52,513 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:38:15,433 - INFO - Received aggregated weights with version: 3
2025-02-12 18:38:15,433 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 18:38:15,520 - INFO - Latest entry ID: 678cbc26c7a27f9d80a75874, Version: 2
2025-02-12 18:38:15,566 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 18:38:15,601 - ERROR - Exception calling application: 'list' object has no attribute 'state_dict'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.aggregated_weights, self.sample_counts)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 4, in fed_avg
    new_state_dict = global_model.state_dict()
AttributeError: 'list' object has no attribute 'state_dict'
2025-02-12 18:39:58,232 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:40:17,086 - INFO - Received aggregated weights with version: 3
2025-02-12 18:40:17,086 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 18:40:17,182 - INFO - Latest entry ID: 67ad31609e49506e69ba87c8, Version: 3
2025-02-12 18:40:17,227 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 18:40:17,255 - ERROR - Exception calling application: 'list' object has no attribute 'state_dict'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.aggregated_weights, self.sample_counts)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 4, in fed_avg
    new_state_dict = global_model.state_dict()
AttributeError: 'list' object has no attribute 'state_dict'
2025-02-12 18:53:57,460 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:54:18,949 - INFO - Received aggregated weights with version: 4
2025-02-12 18:54:18,949 - WARNING - Client version 4 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 18:54:19,081 - INFO - Latest entry ID: 67ad34a99e49506e69ba87ca, Version: 4
2025-02-12 18:54:19,126 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 18:54:19,159 - ERROR - Exception calling application: Tensor.__contains__ only supports Tensor or scalar, but you passed in a <class 'str'>.
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.global_model, self.aggregated_weights)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 10, in fed_avg
    if key_suffix in w:
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/torch/_tensor.py", line 985, in __contains__
    raise RuntimeError(
RuntimeError: Tensor.__contains__ only supports Tensor or scalar, but you passed in a <class 'str'>.
2025-02-12 18:56:35,760 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 18:56:54,643 - INFO - Received aggregated weights with version: 5
2025-02-12 18:56:54,643 - WARNING - Client version 5 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 18:56:54,728 - INFO - Latest entry ID: 67ad35459e49506e69ba87cc, Version: 5
2025-02-12 18:56:54,772 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 18:56:55,352 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-12 18:56:55,353 - ERROR - Exception calling application: 'collections.OrderedDict' object has no attribute 'parameters'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 165, in SendAggregatedWeights
    updated_model_weights = self._flatten_weights(self.global_model)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 206, in _flatten_weights
    for param in model.parameters():
AttributeError: 'collections.OrderedDict' object has no attribute 'parameters'
2025-02-12 18:59:49,846 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:00:07,880 - INFO - Received aggregated weights with version: 6
2025-02-12 19:00:07,880 - WARNING - Client version 6 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:00:08,010 - INFO - Latest entry ID: 67ad36069e49506e69ba87ce, Version: 6
2025-02-12 19:00:08,044 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:00:08,592 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-12 19:00:08,592 - ERROR - Exception calling application: name 'OrderedDict' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 165, in SendAggregatedWeights
    updated_model_weights = self._flatten_weights(self.global_model)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 204, in _flatten_weights
    if isinstance(model_weights, OrderedDict):
NameError: name 'OrderedDict' is not defined
2025-02-12 19:00:57,431 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:01:15,678 - INFO - Received aggregated weights with version: 7
2025-02-12 19:01:15,678 - WARNING - Client version 7 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:01:15,765 - INFO - Latest entry ID: 67ad364a9e49506e69ba87d0, Version: 7
2025-02-12 19:01:15,810 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:01:16,338 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-12 19:01:16,547 - ERROR - Exception calling application: Object of type Tensor is not JSON serializable
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Tensor is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 178, in SendAggregatedWeights
    task_result = app_celery.send_task('l3_celery_tasks.store_aggregated_weights_task', args=[updated_model_weights_payload, model_name])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 799, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/amqp.py", line 518, in send_task_message
    ret = producer.publish(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 175, in publish
    body, content_type, content_encoding = self._prepare(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 268, in _prepare
    body) = dumps(body, serializer=serializer)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 219, in dumps
    with _reraise_errors(EncodeError):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 45, in _reraise_errors
    reraise(wrapper, wrapper(exc), sys.exc_info()[2])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/exceptions.py", line 34, in reraise
    raise value.with_traceback(tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
kombu.exceptions.EncodeError: Object of type Tensor is not JSON serializable
2025-02-12 19:05:41,642 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:06:00,564 - INFO - Received aggregated weights with version: 8
2025-02-12 19:06:00,565 - WARNING - Client version 8 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:06:00,692 - INFO - Latest entry ID: 67ad37679e49506e69ba87d2, Version: 8
2025-02-12 19:06:00,733 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:06:01,257 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-12 19:06:01,257 - ERROR - Exception calling application: 'int' object has no attribute 'cpu'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 177, in SendAggregatedWeights
    updated_model_weights_payload = {k: v.cpu().numpy().tolist() for k, v in updated_model_weights_payload.items()}
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 177, in <dictcomp>
    updated_model_weights_payload = {k: v.cpu().numpy().tolist() for k, v in updated_model_weights_payload.items()}
AttributeError: 'int' object has no attribute 'cpu'
2025-02-12 19:08:31,893 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:08:50,181 - INFO - Received aggregated weights with version: 9
2025-02-12 19:08:50,181 - WARNING - Client version 9 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:08:50,268 - INFO - Latest entry ID: 67ad38119e49506e69ba87d4, Version: 9
2025-02-12 19:08:50,301 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:08:50,842 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-12 19:08:50,878 - ERROR - Exception calling application: Object of type Tensor is not JSON serializable
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Tensor is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 179, in SendAggregatedWeights
    task_result = app_celery.send_task('l3_celery_tasks.store_aggregated_weights_task', args=[updated_model_weights_payload, model_name])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 799, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/amqp.py", line 518, in send_task_message
    ret = producer.publish(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 175, in publish
    body, content_type, content_encoding = self._prepare(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 268, in _prepare
    body) = dumps(body, serializer=serializer)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 219, in dumps
    with _reraise_errors(EncodeError):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 45, in _reraise_errors
    reraise(wrapper, wrapper(exc), sys.exc_info()[2])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/exceptions.py", line 34, in reraise
    raise value.with_traceback(tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
kombu.exceptions.EncodeError: Object of type Tensor is not JSON serializable
2025-02-12 19:11:38,346 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:11:56,759 - INFO - Received aggregated weights with version: 10
2025-02-12 19:11:56,759 - WARNING - Client version 10 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:11:56,885 - INFO - Latest entry ID: 67ad38cb9e49506e69ba87d6, Version: 10
2025-02-12 19:11:56,929 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:11:57,468 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-12 19:11:57,468 - INFO - [tensor([ 0.0152,  0.1617,  0.0769,  0.3018,  0.2105,  0.1084,  0.3278,  0.3071,
         0.1657,  0.0991,  0.1345,  0.2310,  0.2045,  0.2232,  0.1998, -0.0837,
         0.0295,  0.0751,  0.2155, -0.2444, -0.1996, -0.0172, -0.2794,  0.2098,
         0.0526,  0.2739,  0.0752,  0.1792,  0.0877, -0.1970,  0.2445, -0.0092,
         0.2011, -0.2134,  0.1041,  0.0798, -0.0487, -0.1933, -0.2838,  0.1858,
         0.2079, -0.2158, -0.2136, -0.3219, -0.1696,  0.1980, -0.3142, -0.2075,
         0.3247, -0.2179,  0.2142,  0.0338, -0.0200,  0.0991, -0.0186,  0.0826,
        -0.2755, -0.1568, -0.2754, -0.2404,  0.1510, -0.0532,  0.1609, -0.1415,
         0.2316, -0.2252,  0.2386,  0.3156,  0.1126,  0.3237,  0.1466, -0.1187,
        -0.3087,  0.1121,  0.2664, -0.3304,  0.0088,  0.2454,  0.1105, -0.2732,
        -0.2266,  0.3199,  0.0490,  0.0646,  0.2803, -0.1318, -0.2920, -0.2532,
        -0.3177,  0.0419,  0.0741,  0.2164,  0.0664,  0.2677, -0.2441, -0.3021,
         0.3177, -0.1627, -0.0568,  0.0642, -0.2441, -0.0882, -0.1691, -0.1707,
        -0.2767,  0.2362, -0.0772, -0.2167, -0.2282,  0.0868, -0.3018,  0.2651,
        -0.0497, -0.3042, -0.2181,  0.2987,  0.1497, -0.1092,  0.0084,  0.0369,
         0.0893,  0.0767,  0.0572,  0.0992, -0.0919, -0.0788,  0.1884, -0.0388,
        -0.3093, -0.0364, -0.1323,  0.1675,  0.2595, -0.2760, -0.2422,  0.3034,
        -0.0786, -0.0879, -0.0051,  0.0057,  0.0968,  0.1840, -0.2612, -0.3019,
        -0.1230,  0.0481,  0.1735, -0.1926, -0.2625,  0.2925, -0.2876, -0.2459,
         0.1318,  0.0943, -0.2254, -0.1197,  0.2747,  0.2123, -0.1283, -0.0890,
         0.0262,  0.2343,  0.0578,  0.0809,  0.1926,  0.1853, -0.1866,  0.0021,
        -0.2554,  0.2279,  0.2505,  0.0730, -0.2472,  0.2951,  0.2391, -0.2673,
        -0.0307,  0.2970, -0.1105, -0.1087, -0.0432,  0.2548, -0.1836,  0.2850,
         0.2325, -0.1353, -0.2927,  0.0275,  0.0307,  0.0934, -0.2348, -0.1482,
        -0.2841,  0.0938,  0.2110,  0.3273,  0.0683,  0.1749,  0.2290,  0.3016,
        -0.2942, -0.2215, -0.1816, -0.1588, -0.2098, -0.2167, -0.2811, -0.0952,
        -0.1958, -0.2812, -0.3266, -0.1586,  0.3299,  0.1937, -0.2103,  0.1957,
         0.0048, -0.2560, -0.0616, -0.3096, -0.3326,  0.0865,  0.0036, -0.2985,
        -0.3202, -0.1215,  0.0418,  0.1816,  0.0291,  0.0580,  0.1678,  0.0787,
        -0.1477,  0.2568,  0.2514, -0.2415,  0.3152,  0.2523, -0.3166,  0.0561,
        -0.0286, -0.3096, -0.0094, -0.1218, -0.2843, -0.0737,  0.1073,  0.2159,
         0.1890,  0.2150, -0.2877,  0.0594,  0.1880,  0.2612,  0.1574,  0.0538,
         0.2478, -0.2759, -0.1832,  0.1831,  0.2329, -0.0409,  0.2459,  0.2229,
        -0.0588,  0.0606, -0.1447,  0.0621, -0.0162,  0.0818, -0.1432, -0.1798,
         0.2503, -0.0395, -0.1121,  0.2681, -0.3281, -0.1620, -0.0121,  0.0251,
        -0.2947, -0.1687, -0.0147,  0.1871, -0.2682, -0.3320,  0.2060, -0.2697]), tensor([ 0.1206,  0.0357, -0.0983, -0.0793, -0.2201, -0.1271,  0.1754, -0.2442,
         0.2159,  0.1939,  0.1109, -0.0135,  0.0816,  0.2021, -0.1481, -0.1648,
         0.1594,  0.0357, -0.2189,  0.3133, -0.2479, -0.3218,  0.1806,  0.0195,
         0.3094,  0.0170,  0.2690, -0.1075, -0.0093, -0.0651, -0.0140, -0.1217]), tensor([-0.0575,  0.0226, -0.0490,  ..., -0.0332,  0.0437,  0.0275]), tensor([-0.0272,  0.0560, -0.0349, -0.0537, -0.0021, -0.0473,  0.0351, -0.0199,
         0.0478, -0.0131,  0.0579, -0.0100,  0.0087,  0.0363,  0.0082, -0.0450,
         0.0583, -0.0406,  0.0417, -0.0579, -0.0312, -0.0442,  0.0384,  0.0431,
        -0.0554, -0.0331,  0.0018,  0.0070, -0.0524,  0.0520,  0.0124, -0.0487,
         0.0075,  0.0365, -0.0187, -0.0309, -0.0544,  0.0220,  0.0150,  0.0540,
         0.0575,  0.0279, -0.0483,  0.0460,  0.0143,  0.0525, -0.0526,  0.0230,
        -0.0415,  0.0159, -0.0176, -0.0015,  0.0121, -0.0473,  0.0380, -0.0207,
        -0.0045,  0.0213, -0.0426,  0.0451, -0.0409,  0.0193, -0.0484,  0.0304]), tensor([ 1.3243e-02, -8.3460e-03,  9.1552e-03,  ...,  1.7689e-02,
         2.2545e-03, -8.4598e-05]), tensor([-0.0133,  0.0017, -0.0002,  0.0132, -0.0034,  0.0166,  0.0168,  0.0107,
        -0.0097, -0.0176,  0.0055,  0.0044,  0.0081, -0.0171, -0.0161, -0.0024,
         0.0008, -0.0014, -0.0005, -0.0056,  0.0178, -0.0034, -0.0078, -0.0142,
        -0.0144,  0.0004,  0.0130,  0.0012, -0.0003, -0.0145, -0.0066, -0.0088,
        -0.0097,  0.0055,  0.0114,  0.0050,  0.0074,  0.0144, -0.0144,  0.0077,
         0.0056, -0.0151,  0.0070,  0.0171,  0.0125, -0.0068,  0.0105,  0.0117,
        -0.0091, -0.0016,  0.0103, -0.0117,  0.0038,  0.0079,  0.0101, -0.0086,
        -0.0035,  0.0033,  0.0122, -0.0054,  0.0135,  0.0111, -0.0176, -0.0129,
         0.0046, -0.0124,  0.0056,  0.0169, -0.0138,  0.0138,  0.0143,  0.0047,
        -0.0093,  0.0032, -0.0034, -0.0166, -0.0105, -0.0022,  0.0093,  0.0084,
         0.0035, -0.0017,  0.0139, -0.0070, -0.0035, -0.0064,  0.0090, -0.0133,
        -0.0012, -0.0172,  0.0090,  0.0162,  0.0089,  0.0139,  0.0045, -0.0009,
        -0.0149,  0.0017,  0.0154, -0.0135, -0.0082,  0.0039, -0.0104, -0.0107,
         0.0019,  0.0094, -0.0005, -0.0040, -0.0132, -0.0140,  0.0014,  0.0022,
        -0.0095, -0.0142,  0.0030, -0.0073,  0.0001, -0.0121, -0.0153, -0.0016,
        -0.0103,  0.0039,  0.0106, -0.0033,  0.0062,  0.0016,  0.0120, -0.0175]), tensor([-0.0098, -0.0218, -0.0352,  ...,  0.0381, -0.0362,  0.0741]), tensor([-0.0313,  0.0137,  0.0476, -0.0045,  0.0875, -0.0173, -0.0103, -0.0083,
        -0.0095, -0.0800])]
2025-02-12 19:11:57,526 - ERROR - Exception calling application: Object of type Tensor is not JSON serializable
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Tensor is not JSON serializable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 179, in SendAggregatedWeights
    task_result = app_celery.send_task('l3_celery_tasks.store_aggregated_weights_task', args=[updated_model_weights_payload, model_name])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 799, in send_task
    amqp.send_task_message(P, name, message, **options)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/amqp.py", line 518, in send_task_message
    ret = producer.publish(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 175, in publish
    body, content_type, content_encoding = self._prepare(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/messaging.py", line 268, in _prepare
    body) = dumps(body, serializer=serializer)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 219, in dumps
    with _reraise_errors(EncodeError):
  File "/usr/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 45, in _reraise_errors
    reraise(wrapper, wrapper(exc), sys.exc_info()[2])
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/exceptions.py", line 34, in reraise
    raise value.with_traceback(tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 41, in _reraise_errors
    yield
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/serialization.py", line 220, in dumps
    payload = encoder(data)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 57, in dumps
    return _dumps(s, cls=cls, **dict(default_kwargs, **kwargs))
  File "/usr/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/usr/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/kombu/utils/json.py", line 45, in default
    return super().default(o)
  File "/usr/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
kombu.exceptions.EncodeError: Object of type Tensor is not JSON serializable
2025-02-12 19:16:53,277 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:17:11,327 - INFO - Received aggregated weights with version: 11
2025-02-12 19:17:11,327 - WARNING - Client version 11 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:17:11,415 - INFO - Latest entry ID: 67ad3a069e49506e69ba87d8, Version: 11
2025-02-12 19:17:11,449 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:17:11,475 - ERROR - Exception calling application: Tensor.__contains__ only supports Tensor or scalar, but you passed in a <class 'str'>.
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.global_model, self.aggregated_weights)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 10, in fed_avg
    if key_suffix in w:
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/torch/_tensor.py", line 985, in __contains__
    raise RuntimeError(
RuntimeError: Tensor.__contains__ only supports Tensor or scalar, but you passed in a <class 'str'>.
2025-02-12 19:19:08,979 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:19:27,174 - INFO - Received aggregated weights with version: 12
2025-02-12 19:19:27,175 - WARNING - Client version 12 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:19:27,304 - INFO - Latest entry ID: 67ad3a8e9e49506e69ba87da, Version: 12
2025-02-12 19:19:27,333 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:19:27,357 - ERROR - Exception calling application: 'Tensor' object has no attribute 'keys'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    self.global_model = fed_avg(self.global_model, self.aggregated_weights)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 10, in fed_avg
    if key_suffix in w.keys():
AttributeError: 'Tensor' object has no attribute 'keys'
2025-02-12 19:21:48,837 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:22:06,988 - INFO - Received aggregated weights with version: 13
2025-02-12 19:22:06,988 - WARNING - Client version 13 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:22:07,077 - INFO - Latest entry ID: 67ad3b2d9e49506e69ba87dc, Version: 13
2025-02-12 19:22:07,123 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 19:22:07,127 - ERROR - Exception calling application: keys
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 144, in SendAggregatedWeights
    for key, weight in zip(request.keys, request.weights):
AttributeError: keys
2025-02-12 19:31:42,248 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 19:32:00,463 - INFO - Received aggregated weights with version: 14
2025-02-12 19:32:00,463 - WARNING - Client version 14 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 19:32:00,593 - INFO - Latest entry ID: 67ad3d7f9e49506e69ba87de, Version: 14
2025-02-12 19:32:00,637 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 20:38:29,248 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-12 20:38:29,248 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-12 20:38:29,248 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-12 20:38:29,248 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-12 20:38:29,249 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-12 20:38:29,249 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-12 20:38:29,249 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-12 20:38:29,249 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-12 20:38:29,249 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-12 20:38:29,249 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-12 20:38:29,250 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-12 20:38:58,053 - INFO - Top layer aggregator server started on port 8082.
2025-02-12 20:59:52,518 - INFO - Received aggregated weights with version: 2
2025-02-12 20:59:52,544 - WARNING - Client version 2 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 20:59:52,632 - INFO - Latest entry ID: 67ad52179df9e83db4c2148b, Version: 2
2025-02-12 20:59:52,673 - INFO - Loaded latest model weights from MongoDB.
2025-02-12 21:58:31,625 - INFO - Received aggregated weights with version: 2
2025-02-12 21:58:31,625 - WARNING - Client version 2 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-12 21:58:31,730 - INFO - Latest entry ID: 67ad5fd69df9e83db4c2148d, Version: 1
2025-02-12 21:58:31,743 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 16:49:47,941 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-13 16:49:47,960 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-13 16:49:47,960 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-13 16:49:47,960 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-13 16:49:47,960 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-13 16:49:47,961 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-13 16:49:47,961 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-13 16:49:47,961 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-13 16:49:47,961 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-13 16:49:47,961 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-13 16:49:47,961 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-13 16:50:03,476 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 16:50:45,438 - INFO - Received aggregated weights with version: 2
2025-02-13 16:50:45,443 - WARNING - Client version 2 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 16:50:45,570 - INFO - Latest entry ID: 67ae6934aa7752fb4eaa1e92, Version: 2
2025-02-13 16:50:45,591 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 16:52:31,957 - INFO - Received aggregated weights with version: 3
2025-02-13 16:52:31,957 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 16:52:32,103 - INFO - Latest entry ID: 67ae699eaa7752fb4eaa1e94, Version: 3
2025-02-13 16:52:32,137 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 16:55:07,646 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 16:55:25,446 - INFO - Received aggregated weights with version: 4
2025-02-13 16:55:25,446 - WARNING - Client version 4 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 16:55:25,545 - INFO - Latest entry ID: 67ae6a4caa7752fb4eaa1e96, Version: 4
2025-02-13 16:55:25,570 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 16:57:26,892 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 16:57:44,805 - INFO - Received aggregated weights with version: 5
2025-02-13 16:57:44,805 - WARNING - Client version 5 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 16:57:44,937 - INFO - Latest entry ID: 67ae6ad7aa7752fb4eaa1e98, Version: 5
2025-02-13 16:57:44,978 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 17:09:29,504 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:09:47,808 - INFO - Received aggregated weights with version: 1
2025-02-13 17:09:47,808 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:13:23,550 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:13:41,931 - INFO - Received aggregated weights with version: 2
2025-02-13 17:13:41,932 - WARNING - Client version 2 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 17:13:42,050 - INFO - Latest entry ID: 67ae6e94aa7752fb4eaa1e9c, Version: 2
2025-02-13 17:13:42,102 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 17:13:42,105 - ERROR - Exception calling application: name 'weights' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 144, in SendAggregatedWeights
    self.aggregated_weights.append(weights)
NameError: name 'weights' is not defined
2025-02-13 17:14:31,365 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:14:49,703 - INFO - Received aggregated weights with version: 3
2025-02-13 17:14:49,703 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 17:14:49,793 - INFO - Latest entry ID: 67ae6ed8aa7752fb4eaa1e9e, Version: 3
2025-02-13 17:14:49,836 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 17:14:49,860 - INFO - Using latest weights from MongoDB for FedAvg.
2025-02-13 17:14:49,860 - ERROR - Exception calling application: string indices must be integers
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 151, in SendAggregatedWeights
    updated_model = fed_avg(self.global_model, latest_weights)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 11, in fed_avg
    value += torch.tensor(w[key_suffix]) / len(weights_updates)
TypeError: string indices must be integers
2025-02-13 17:15:55,504 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:16:13,923 - INFO - Received aggregated weights with version: 1
2025-02-13 17:16:13,923 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:16:13,942 - ERROR - Exception calling application: name 'use_latest_weights' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 149, in SendAggregatedWeights
    if use_latest_weights:
NameError: name 'use_latest_weights' is not defined
2025-02-13 17:18:30,364 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:18:49,083 - INFO - Received aggregated weights with version: 1
2025-02-13 17:18:49,083 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:18:49,102 - INFO - Using received weights from l2 server for FedAvg.
2025-02-13 17:18:49,667 - ERROR - Exception calling application: Tensor.__contains__ only supports Tensor or scalar, but you passed in a <class 'str'>.
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 154, in SendAggregatedWeights
    updated_model = fed_avg(self.global_model, weights)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 10, in fed_avg
    if key_suffix in w:
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/torch/_tensor.py", line 985, in __contains__
    raise RuntimeError(
RuntimeError: Tensor.__contains__ only supports Tensor or scalar, but you passed in a <class 'str'>.
2025-02-13 17:20:37,790 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:21:18,128 - INFO - Received aggregated weights with version: 1
2025-02-13 17:21:18,129 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:21:18,129 - ERROR - Exception calling application: 'google._upb._message.RepeatedScalarContainer' object has no attribute 'items'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 142, in SendAggregatedWeights
    weights = {k: torch.tensor(v, dtype=torch.float32) for k, v in request.weights.items()}
AttributeError: 'google._upb._message.RepeatedScalarContainer' object has no attribute 'items'
2025-02-13 17:24:10,470 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:24:28,412 - INFO - Received aggregated weights with version: 1
2025-02-13 17:24:28,413 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:24:28,424 - INFO - Using received weights from l2 server for FedAvg.
2025-02-13 17:24:28,424 - ERROR - Exception calling application: string indices must be integers
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/server.py", line 158, in SendAggregatedWeights
    updated_model = fed_avg(self.global_model, weights)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC_top/Algorithms/fedavg.py", line 11, in fed_avg
    value += torch.tensor(w[key_suffix]) / len(weights_updates)
TypeError: string indices must be integers
2025-02-13 17:29:06,145 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:29:24,472 - INFO - Received aggregated weights with version: 1
2025-02-13 17:29:24,472 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:29:24,484 - INFO - Using received weights from l2 server for FedAvg.
2025-02-13 17:29:24,485 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-13 17:29:24,485 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0008540153503417969 seconds.
2025-02-13 17:29:24,485 - INFO - Updated global model with version 2.
2025-02-13 17:29:25,572 - INFO - Task result: 67ae724500289dc7aa4a51be
2025-02-13 17:29:25,573 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-13 17:29:25,966 - INFO - Model weights sent successfully to L2 server.
2025-02-13 17:29:54,605 - INFO - Received aggregated weights with version: 3
2025-02-13 17:29:54,605 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 17:29:54,696 - INFO - Latest entry ID: 67ae7261aa7752fb4eaa1eaa, Version: 3
2025-02-13 17:29:54,724 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 17:29:54,740 - INFO - Using received weights from l2 server for FedAvg.
2025-02-13 17:29:54,751 - INFO - Applied FedAvg and updated the global model. Current version: 3
2025-02-13 17:29:54,751 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.011293172836303711 seconds.
2025-02-13 17:29:54,777 - INFO - Updated global model with version 4.
2025-02-13 17:29:55,798 - INFO - Task result: 67ae726300289dc7aa4a51c0
2025-02-13 17:29:56,144 - INFO - Model weights sent successfully to L2 server.
2025-02-13 17:37:22,929 - INFO - Top layer aggregator server started on port 8082.
2025-02-13 17:37:57,720 - INFO - Received aggregated weights with version: 1
2025-02-13 17:37:57,720 - INFO - Client version 1 is in sync with server version 1. Proceeding with aggregation.
2025-02-13 17:37:57,731 - INFO - Using received weights from l2 server for FedAvg.
2025-02-13 17:37:57,732 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-13 17:37:57,732 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0008637905120849609 seconds.
2025-02-13 17:37:57,733 - INFO - Updated global model with version 2.
2025-02-13 17:37:58,753 - INFO - Task result: 67ae744600289dc7aa4a51c2
2025-02-13 17:37:58,753 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-13 17:37:59,127 - INFO - Model weights sent successfully to L2 server.
2025-02-13 17:38:22,574 - INFO - Received aggregated weights with version: 3
2025-02-13 17:38:22,574 - WARNING - Client version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-13 17:38:22,658 - INFO - Latest entry ID: 67ae745daa7752fb4eaa1eae, Version: 3
2025-02-13 17:38:22,689 - INFO - Loaded latest model weights from MongoDB.
2025-02-13 17:38:22,705 - INFO - Using received weights from l2 server for FedAvg.
2025-02-13 17:38:22,713 - INFO - Applied FedAvg and updated the global model. Current version: 3
2025-02-13 17:38:22,714 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.008051395416259766 seconds.
2025-02-13 17:38:22,739 - INFO - Updated global model with version 4.
2025-02-13 17:38:23,749 - INFO - Task result: 67ae745f00289dc7aa4a51c4
2025-02-13 17:38:24,108 - INFO - Model weights sent successfully to L2 server.
2025-02-14 18:23:15,673 - ERROR - Signal handler <promise@0x7fa59b812f20 --> <bound method Celery._autodiscover_tasks of <Celery l3_celery_tasks at 0x7fa59b8e5720>>> raised: ModuleNotFoundError("No module named 'l3_celery_tasks'")
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/utils/dispatch/signal.py", line 276, in send
    response = receiver(signal=self, sender=sender, **named)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/promises.py", line 161, in __call__
    return self.throw()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/promises.py", line 158, in __call__
    retval = fun(*final_args, **final_kwargs)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 691, in _autodiscover_tasks
    return self._autodiscover_tasks_from_names(packages, related_name)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/app/base.py", line 696, in _autodiscover_tasks_from_names
    return self.loader.autodiscover_tasks(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/loaders/base.py", line 220, in autodiscover_tasks
    mod.__name__ for mod in autodiscover_tasks(packages or (),
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/loaders/base.py", line 246, in autodiscover_tasks
    return [find_related_module(pkg, related_name) for pkg in packages]
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/loaders/base.py", line 246, in <listcomp>
    return [find_related_module(pkg, related_name) for pkg in packages]
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/loaders/base.py", line 257, in find_related_module
    module = importlib.import_module(package)
  File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1004, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'l3_celery_tasks'
2025-02-14 18:25:59,400 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-14 18:25:59,401 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-14 18:25:59,401 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-14 18:25:59,401 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-14 18:25:59,401 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-14 18:25:59,401 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-14 18:25:59,402 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-14 18:25:59,402 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-14 18:25:59,402 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-14 18:25:59,402 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-14 18:25:59,402 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-14 18:29:01,561 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-14 18:29:01,561 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-14 18:29:01,561 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-14 18:29:01,562 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-14 18:29:01,562 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-14 18:29:01,562 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-14 18:29:01,562 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-14 18:29:01,562 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-14 18:29:01,562 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-14 18:29:01,563 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-14 18:29:01,563 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-14 18:30:05,499 - INFO - Top layer aggregator server started on port 8083.
2025-02-14 19:35:52,471 - INFO - Top layer aggregator server started on port 8083.
2025-02-14 19:54:25,920 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 14:39:02,388 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 14:39:02,388 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 14:39:02,388 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 14:39:02,388 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 14:39:02,389 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 14:39:02,389 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 14:39:02,389 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 14:39:02,389 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 14:39:02,389 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 14:39:02,390 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 14:39:02,390 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 14:49:59,160 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 14:59:55,333 - INFO - Received aggregated weights with version: 4
2025-02-15 14:59:55,333 - WARNING - Received version 4 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 14:59:55,421 - INFO - Latest entry ID: 67b0f23a427d2c9edb44d458, Version: 4
2025-02-15 14:59:55,436 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 14:59:55,452 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 14:59:55,453 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 14:59:55,453 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0006246566772460938 seconds.
2025-02-15 14:59:55,454 - INFO - Updated global model with version 2.
2025-02-15 14:59:55,996 - ERROR - Exception calling application: 'l3_celery_tasks.store_aggregated_weights_task'
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/server.py", line 203, in SendAggregatedWeights
    current_time = task_result.get()
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 251, in get
    return self.backend.wait_for_pending(
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/backends/asynchronous.py", line 223, in wait_for_pending
    return result.maybe_throw(callback=callback, propagate=propagate)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 365, in maybe_throw
    self.throw(value, self._to_remote_traceback(tb))
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/celery/result.py", line 358, in throw
    self.on_ready.throw(*args, **kwargs)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/promises.py", line 235, in throw
    reraise(type(exc), exc, tb)
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/vine/utils.py", line 27, in reraise
    raise value
celery.exceptions.NotRegistered: 'l3_celery_tasks.store_aggregated_weights_task'
2025-02-15 15:02:21,286 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 15:02:47,562 - INFO - Received aggregated weights with version: 6
2025-02-15 15:02:47,562 - WARNING - Received version 6 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 15:02:47,665 - INFO - Latest entry ID: 67b0f2e6427d2c9edb44d45a, Version: 6
2025-02-15 15:02:47,684 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 15:02:47,702 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 15:02:47,702 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 15:02:47,702 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0006325244903564453 seconds.
2025-02-15 15:02:47,703 - INFO - Updated global model with version 2.
2025-02-15 15:02:51,594 - INFO - Task result: 67b0f2eb9be7faec598de767
2025-02-15 15:02:51,595 - INFO - Sending model weights to L2 server
2025-02-15 15:02:51,595 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 15:39:12,562 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 15:39:53,992 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 15:39:53,992 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 15:39:53,993 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 15:39:53,993 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 15:39:53,993 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 15:39:53,993 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 15:39:53,993 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 15:39:53,993 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 15:39:53,994 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 15:39:53,994 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 15:39:53,994 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 15:40:22,839 - INFO - Received aggregated weights with version: 3
2025-02-15 15:40:22,839 - WARNING - Received version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 15:40:22,929 - INFO - Latest entry ID: 67b0fbb58b2d65618372427d, Version: 3
2025-02-15 15:40:22,974 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 15:40:22,993 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 15:40:23,007 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 15:40:23,007 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.014267444610595703 seconds.
2025-02-15 15:40:23,032 - INFO - Updated global model with version 2.
2025-02-15 15:40:24,043 - INFO - Task result: 67b0fbb71c2f065f27e1bdbd
2025-02-15 15:40:24,044 - INFO - Sending model weights to L2 server
2025-02-15 15:40:24,044 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:06:55,773 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 16:06:55,774 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 16:06:55,774 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 16:06:55,774 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:06:55,774 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 16:06:55,774 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 16:06:55,775 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 16:06:55,775 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 16:06:55,775 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 16:06:55,775 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 16:06:55,775 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 16:07:08,565 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 16:07:31,445 - INFO - Received aggregated weights with version: 3
2025-02-15 16:07:31,445 - WARNING - Received version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:07:31,533 - INFO - Latest entry ID: 67b10212b2cdce9c373d7535, Version: 3
2025-02-15 16:07:31,577 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:07:31,596 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:07:31,609 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 16:07:31,609 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.01300668716430664 seconds.
2025-02-15 16:07:31,621 - INFO - Updated global model with version 2.
2025-02-15 16:07:32,641 - INFO - Task result: 67b10214dcfb32f9bb4cfe3a
2025-02-15 16:07:32,641 - INFO - Sending model weights to L2 server
2025-02-15 16:07:32,641 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:10:13,645 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 16:10:13,645 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 16:10:13,645 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 16:10:13,645 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:10:13,646 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 16:10:13,646 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 16:10:13,646 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 16:10:13,646 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 16:10:13,646 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 16:10:13,646 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 16:10:13,647 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 16:10:22,983 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 16:10:42,467 - INFO - Received aggregated weights with version: 3
2025-02-15 16:10:42,467 - WARNING - Received version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:10:42,569 - INFO - Latest entry ID: 67b102d10da8bd48f731c31c, Version: 3
2025-02-15 16:10:42,611 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:10:42,632 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:10:42,645 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 16:10:42,645 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.012846231460571289 seconds.
2025-02-15 16:10:42,654 - INFO - Updated global model with version 2.
2025-02-15 16:10:43,711 - INFO - Task result: 67b102d38a5424c5c896bfde
2025-02-15 16:10:43,711 - INFO - Sending model weights to L2 server
2025-02-15 16:10:43,711 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:19:32,549 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 16:25:54,014 - INFO - Received aggregated weights with version: 3
2025-02-15 16:25:54,014 - WARNING - Received version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:25:54,110 - INFO - Latest entry ID: 67b106600da8bd48f731c31e, Version: 3
2025-02-15 16:25:54,134 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:25:54,150 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:25:54,151 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 16:25:54,151 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0006086826324462891 seconds.
2025-02-15 16:25:54,151 - INFO - Updated global model with version 2.
2025-02-15 16:25:55,163 - INFO - Task result: 67b106628a5424c5c896bfe0
2025-02-15 16:25:55,163 - INFO - Sending model weights to L2 server
2025-02-15 16:25:55,164 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:32:27,764 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 16:32:46,640 - INFO - Received aggregated weights with version: 3
2025-02-15 16:32:46,640 - WARNING - Received version 3 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:32:46,728 - INFO - Latest entry ID: 67b107fd0da8bd48f731c320, Version: 3
2025-02-15 16:32:46,767 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:32:46,785 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:32:46,799 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 16:32:46,799 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.01327824592590332 seconds.
2025-02-15 16:32:46,820 - INFO - Updated global model with version 2.
2025-02-15 16:32:47,862 - INFO - Task result: 67b107ff8a5424c5c896bfe2
2025-02-15 16:32:47,863 - INFO - Sending model weights to L2 server
2025-02-15 16:32:47,864 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 16:35:48,875 - INFO - Received aggregated weights with version: 5
2025-02-15 16:35:48,876 - WARNING - Received version 5 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:35:48,947 - INFO - Latest entry ID: 67b108b30da8bd48f731c322, Version: 5
2025-02-15 16:35:48,975 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:35:48,991 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:35:48,996 - INFO - Applied FedAvg and updated the global model. Current version: 3
2025-02-15 16:35:48,997 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.004929780960083008 seconds.
2025-02-15 16:35:49,012 - INFO - Updated global model with version 4.
2025-02-15 16:35:50,001 - INFO - Task result: 67b108b58a5424c5c896bfe4
2025-02-15 16:35:50,001 - INFO - Sending model weights to L2 server
2025-02-15 16:40:55,372 - INFO - Received aggregated weights with version: 5
2025-02-15 16:40:55,372 - WARNING - Received version 5 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:40:55,442 - INFO - Latest entry ID: 67b109e60da8bd48f731c324, Version: 5
2025-02-15 16:40:55,463 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:40:55,479 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:40:55,492 - INFO - Applied FedAvg and updated the global model. Current version: 5
2025-02-15 16:40:55,492 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.013484716415405273 seconds.
2025-02-15 16:40:55,507 - INFO - Updated global model with version 6.
2025-02-15 16:40:56,511 - INFO - Task result: 67b109e88a5424c5c896bfe6
2025-02-15 16:40:56,512 - INFO - Sending model weights to L2 server
2025-02-15 16:43:19,192 - INFO - Received aggregated weights with version: 7
2025-02-15 16:43:19,192 - WARNING - Received version 7 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:43:19,272 - INFO - Latest entry ID: 67b10a760da8bd48f731c326, Version: 7
2025-02-15 16:43:19,299 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:43:19,314 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:43:19,314 - INFO - Applied FedAvg and updated the global model. Current version: 7
2025-02-15 16:43:19,314 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.00046372413635253906 seconds.
2025-02-15 16:43:19,315 - INFO - Updated global model with version 8.
2025-02-15 16:43:20,316 - INFO - Task result: 67b10a788a5424c5c896bfe8
2025-02-15 16:43:20,316 - INFO - Sending model weights to L2 server
2025-02-15 16:46:46,742 - INFO - Received aggregated weights with version: 9
2025-02-15 16:46:46,743 - WARNING - Received version 9 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:46:46,816 - INFO - Latest entry ID: 67b10b450da8bd48f731c328, Version: 9
2025-02-15 16:46:46,834 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:46:46,850 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:46:46,863 - INFO - Applied FedAvg and updated the global model. Current version: 9
2025-02-15 16:46:46,863 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.01345682144165039 seconds.
2025-02-15 16:46:46,877 - INFO - Updated global model with version 10.
2025-02-15 16:46:47,870 - INFO - Task result: 67b10b478a5424c5c896bfea
2025-02-15 16:46:47,871 - INFO - Sending model weights to L2 server
2025-02-15 16:48:19,157 - INFO - Received aggregated weights with version: 11
2025-02-15 16:48:19,158 - WARNING - Received version 11 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:48:19,234 - INFO - Latest entry ID: 67b10ba20da8bd48f731c32a, Version: 11
2025-02-15 16:48:19,258 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:48:19,272 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:48:19,273 - INFO - Applied FedAvg and updated the global model. Current version: 11
2025-02-15 16:48:19,273 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0005369186401367188 seconds.
2025-02-15 16:48:19,273 - INFO - Updated global model with version 12.
2025-02-15 16:48:20,272 - INFO - Task result: 67b10ba48a5424c5c896bfec
2025-02-15 16:48:20,272 - INFO - Sending model weights to L2 server
2025-02-15 16:49:30,092 - INFO - Received aggregated weights with version: 13
2025-02-15 16:49:30,092 - WARNING - Received version 13 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:49:30,168 - INFO - Latest entry ID: 67b10be90da8bd48f731c32c, Version: 13
2025-02-15 16:49:30,190 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:49:30,205 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:49:30,205 - INFO - Applied FedAvg and updated the global model. Current version: 13
2025-02-15 16:49:30,205 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0005478858947753906 seconds.
2025-02-15 16:49:30,205 - INFO - Updated global model with version 14.
2025-02-15 16:49:31,265 - INFO - Task result: 67b10bea8a5424c5c896bfee
2025-02-15 16:49:31,266 - INFO - Sending model weights to L2 server
2025-02-15 16:51:14,583 - INFO - Received aggregated weights with version: 15
2025-02-15 16:51:14,583 - WARNING - Received version 15 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:51:14,683 - INFO - Latest entry ID: 67b10c510da8bd48f731c32e, Version: 15
2025-02-15 16:51:14,707 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:51:14,720 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:51:14,721 - INFO - Applied FedAvg and updated the global model. Current version: 15
2025-02-15 16:51:14,721 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.00044417381286621094 seconds.
2025-02-15 16:51:14,721 - INFO - Updated global model with version 16.
2025-02-15 16:51:15,746 - INFO - Task result: 67b10c538a5424c5c896bff0
2025-02-15 16:51:15,746 - INFO - Sending model weights to L2 server
2025-02-15 16:53:42,795 - INFO - Received aggregated weights with version: 17
2025-02-15 16:53:42,795 - WARNING - Received version 17 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:53:42,877 - INFO - Latest entry ID: 67b10ce50da8bd48f731c330, Version: 17
2025-02-15 16:53:42,902 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:53:42,917 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:53:42,930 - INFO - Applied FedAvg and updated the global model. Current version: 17
2025-02-15 16:53:42,930 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.013505935668945312 seconds.
2025-02-15 16:53:42,956 - INFO - Updated global model with version 18.
2025-02-15 16:53:43,962 - INFO - Task result: 67b10ce78a5424c5c896bff2
2025-02-15 16:53:43,963 - INFO - Sending model weights to L2 server
2025-02-15 16:59:28,543 - INFO - Received aggregated weights with version: 19
2025-02-15 16:59:28,543 - WARNING - Received version 19 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 16:59:28,613 - INFO - Latest entry ID: 67b10e3f0da8bd48f731c332, Version: 19
2025-02-15 16:59:28,629 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 16:59:28,643 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 16:59:28,648 - INFO - Applied FedAvg and updated the global model. Current version: 19
2025-02-15 16:59:28,648 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.004100322723388672 seconds.
2025-02-15 16:59:28,665 - INFO - Updated global model with version 20.
2025-02-15 16:59:29,667 - INFO - Task result: 67b10e418a5424c5c896bff4
2025-02-15 16:59:29,668 - INFO - Sending model weights to L2 server
2025-02-15 17:00:42,659 - INFO - Received aggregated weights with version: 21
2025-02-15 17:00:42,660 - WARNING - Received version 21 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 17:00:42,731 - INFO - Latest entry ID: 67b10e890da8bd48f731c334, Version: 21
2025-02-15 17:00:42,761 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 17:00:42,776 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 17:00:42,777 - INFO - Applied FedAvg and updated the global model. Current version: 21
2025-02-15 17:00:42,777 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0007140636444091797 seconds.
2025-02-15 17:00:42,777 - INFO - Updated global model with version 22.
2025-02-15 17:00:43,715 - INFO - Task result: 67b10e8b8a5424c5c896bff6
2025-02-15 17:00:43,715 - INFO - Sending model weights to L2 server
2025-02-15 17:02:03,222 - INFO - Received aggregated weights with version: 2
2025-02-15 17:02:03,222 - WARNING - Received version 2 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 17:02:03,363 - INFO - Latest entry ID: 67b10eda15d8812b5ab8ac78, Version: 2
2025-02-15 17:02:03,387 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 17:02:03,401 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 17:02:03,402 - INFO - Applied FedAvg and updated the global model. Current version: 23
2025-02-15 17:02:03,402 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.00044608116149902344 seconds.
2025-02-15 17:02:03,402 - INFO - Updated global model with version 24.
2025-02-15 17:02:04,331 - INFO - Task result: 67b10edc8a5424c5c896bff8
2025-02-15 17:02:04,331 - INFO - Sending model weights to L2 server
2025-02-15 17:03:25,412 - INFO - Received aggregated weights with version: 25
2025-02-15 17:03:25,413 - WARNING - Received version 25 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 17:03:25,526 - INFO - Latest entry ID: 67b10f2c0da8bd48f731c338, Version: 25
2025-02-15 17:03:25,557 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 17:03:25,572 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 17:03:25,585 - INFO - Applied FedAvg and updated the global model. Current version: 25
2025-02-15 17:03:25,585 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0130615234375 seconds.
2025-02-15 17:03:25,601 - INFO - Updated global model with version 26.
2025-02-15 17:03:26,609 - INFO - Task result: 67b10f2e8a5424c5c896bffa
2025-02-15 17:03:26,610 - INFO - Sending model weights to L2 server
2025-02-15 17:04:28,673 - INFO - Edge layer aggregator server started on port 8083.
2025-02-15 17:04:47,909 - INFO - Received aggregated weights with version: 27
2025-02-15 17:04:47,909 - WARNING - Received version 27 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 17:04:48,037 - INFO - Latest entry ID: 67b10f7e0da8bd48f731c33a, Version: 27
2025-02-15 17:04:48,081 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 17:04:48,100 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 17:04:48,104 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 17:04:48,104 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.00429844856262207 seconds.
2025-02-15 17:04:48,104 - INFO - Updated global model with version 2.
2025-02-15 17:04:49,120 - INFO - Task result: 67b10f808a5424c5c896bffc
2025-02-15 17:04:49,120 - INFO - Sending model weights to L2 server
2025-02-15 17:04:49,121 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 17:05:18,177 - INFO - Received aggregated weights with version: 29
2025-02-15 17:05:18,177 - WARNING - Received version 29 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 17:05:18,323 - INFO - Latest entry ID: 67b10f9d0da8bd48f731c33c, Version: 29
2025-02-15 17:05:18,345 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 17:05:18,360 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 17:05:18,360 - INFO - Applied FedAvg and updated the global model. Current version: 3
2025-02-15 17:05:18,361 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0004994869232177734 seconds.
2025-02-15 17:05:18,361 - INFO - Updated global model with version 4.
2025-02-15 17:05:19,354 - INFO - Task result: 67b10f9f8a5424c5c896bffe
2025-02-15 17:05:19,354 - INFO - Sending model weights to L2 server
2025-02-15 17:09:12,695 - INFO - Received aggregated weights with version: 4
2025-02-15 17:09:12,695 - WARNING - Received version 4 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 17:09:12,768 - INFO - Latest entry ID: 67b1108715d8812b5ab8ac7c, Version: 4
2025-02-15 17:09:12,783 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 17:09:12,799 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 17:09:12,799 - INFO - Applied FedAvg and updated the global model. Current version: 5
2025-02-15 17:09:12,799 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.0005307197570800781 seconds.
2025-02-15 17:09:12,799 - INFO - Updated global model with version 6.
2025-02-15 17:09:13,757 - INFO - Task result: 67b110898a5424c5c896c000
2025-02-15 17:09:13,757 - INFO - Sending model weights to L2 server
2025-02-15 17:39:52,709 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 17:39:52,709 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 17:39:52,710 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 17:39:52,710 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 17:39:52,710 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 17:39:52,710 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 17:39:52,710 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 17:39:52,710 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 17:39:52,711 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 17:39:52,711 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 17:39:52,711 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 17:42:56,615 - INFO - Server started.
2025-02-15 17:57:31,167 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 17:57:31,167 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 17:57:31,167 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 17:57:31,167 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 17:57:31,167 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 17:57:31,167 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 17:57:31,168 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 17:57:31,168 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 17:57:31,168 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 17:57:31,168 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 17:57:31,168 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 17:57:43,375 - INFO - Server started.
2025-02-15 18:01:12,056 - INFO - Edge layer started on port 8083.
2025-02-15 18:01:40,289 - ERROR - Exception deserializing message!
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_common.py", line 89, in _transform
    return transformer(message)
google.protobuf.message.DecodeError: Error parsing message with type 'grpc.edge.WeightsUpdate'
2025-02-15 18:03:33,528 - INFO - Edge layer started on port 8083.
2025-02-15 18:03:53,944 - ERROR - Exception calling application: Method not implemented!
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/edge_pb2_grpc.py", line 72, in UpdateModel
    raise NotImplementedError('Method not implemented!')
NotImplementedError: Method not implemented!
2025-02-15 18:06:30,374 - INFO - Edge layer started on port 8083.
2025-02-15 18:06:51,208 - ERROR - Exception calling application: EdgeLayerAggregator.UpdateModel() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
TypeError: EdgeLayerAggregator.UpdateModel() takes 2 positional arguments but 3 were given
2025-02-15 18:10:14,597 - INFO - Edge layer started on port 8083.
2025-02-15 18:10:35,346 - INFO - Received aggregated weights from Edge with version 10
2025-02-15 18:10:35,371 - INFO - Global model updated to version 2
2025-02-15 18:13:04,000 - INFO - Edge layer started on port 8083.
2025-02-15 18:13:26,303 - INFO - Received aggregated weights from Edge with version 12
2025-02-15 18:13:26,329 - INFO - Global model updated to version 13
2025-02-15 18:14:23,090 - ERROR - Exception calling application: EdgeLayerAggregator.AggregateAndUpdateModel() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
TypeError: EdgeLayerAggregator.AggregateAndUpdateModel() takes 2 positional arguments but 3 were given
2025-02-15 18:15:58,933 - INFO - Edge layer started on port 8083.
2025-02-15 18:16:17,214 - INFO - Received aggregated weights with version: 14
2025-02-15 18:16:17,214 - WARNING - Received version 14 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 18:16:17,344 - INFO - Latest entry ID: 67b12040f8fc0a1b40109cfb, Version: 14
2025-02-15 18:16:17,389 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 18:16:17,407 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 18:16:17,421 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 18:16:17,421 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.01356196403503418 seconds.
2025-02-15 18:16:17,446 - INFO - Updated global model with version 2.
2025-02-15 18:16:18,406 - INFO - Task result: 67b120424a441f30819acca3
2025-02-15 18:16:18,407 - INFO - Sending model weights to L2 server
2025-02-15 18:16:18,407 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 18:21:37,316 - INFO - Edge layer started on port 8083.
2025-02-15 18:21:55,209 - INFO - Received aggregated weights with version: 15
2025-02-15 18:21:55,209 - WARNING - Received version 15 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 18:21:55,338 - INFO - Latest entry ID: 67b12192f8fc0a1b40109cfd, Version: 15
2025-02-15 18:21:55,354 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 18:21:55,370 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 18:21:55,378 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 18:21:55,378 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.007926702499389648 seconds.
2025-02-15 18:21:55,393 - INFO - Updated global model with version 2.
2025-02-15 18:21:56,372 - INFO - Task result: 67b121944a441f30819acca5
2025-02-15 18:21:56,372 - ERROR - Exception calling application: name 'AggregatedWeights' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/server.py", line 220, in AggregateAndUpdateModel
    model_weights_proto = AggregatedWeights(model_weights=updated_model_weights)
NameError: name 'AggregatedWeights' is not defined
2025-02-15 18:25:56,377 - INFO - Edge layer started on port 8083.
2025-02-15 18:26:15,055 - INFO - Received aggregated weights with version: 16
2025-02-15 18:26:15,055 - WARNING - Received version 16 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 18:26:15,211 - INFO - Latest entry ID: 67b12296f8fc0a1b40109cff, Version: 16
2025-02-15 18:26:15,253 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 18:26:15,270 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 18:26:15,284 - INFO - Applied FedAvg and updated the global model. Current version: 1
2025-02-15 18:26:15,284 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.013574361801147461 seconds.
2025-02-15 18:26:15,299 - INFO - Updated global model with version 2.
2025-02-15 18:26:16,265 - INFO - Task result: 67b122974a441f30819acca7
2025-02-15 18:26:16,265 - INFO - Sending model weights to L2 server
2025-02-15 18:26:16,265 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 18:30:06,388 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-15 18:30:06,388 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-15 18:30:06,388 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-15 18:30:06,388 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-15 18:30:06,388 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-15 18:30:06,389 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-15 18:30:06,389 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-15 18:30:06,389 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-15 18:30:06,389 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-15 18:30:06,389 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-15 18:30:06,389 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-15 18:30:27,648 - INFO - Received aggregated weights with version: 17
2025-02-15 18:30:27,648 - WARNING - Received version 17 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-15 18:30:27,792 - INFO - Latest entry ID: 67b12392f8fc0a1b40109d01, Version: 17
2025-02-15 18:30:27,840 - INFO - Loaded latest model weights from MongoDB.
2025-02-15 18:30:27,852 - INFO - Using received weights from l2 server for FedAvg.
2025-02-15 18:30:27,861 - INFO - Applied FedAvg and updated the global model. Current version: 3
2025-02-15 18:30:27,861 - INFO - FedAvg applied, updated the global model. Aggregation time: 0.008490800857543945 seconds.
2025-02-15 18:30:27,880 - INFO - Updated global model with version 4.
2025-02-15 18:30:28,851 - INFO - Task result: 67b123943914a0c704f8206f
2025-02-15 18:30:28,852 - INFO - Sending model weights to L2 server
2025-02-26 22:08:16,432 - INFO - Edge layer started on port 8083.
2025-02-26 22:08:36,412 - INFO - Received aggregated weights with version: 8
2025-02-26 22:08:36,412 - ERROR - Exception calling application: model_name
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/server.py", line 122, in AggregateAndUpdateModel
    model_name = request.model_name.lower()
AttributeError: model_name
2025-02-26 22:15:55,225 - INFO - Edge layer started on port 8083.
2025-02-26 22:16:13,645 - ERROR - Exception deserializing message!
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_common.py", line 89, in _transform
    return transformer(message)
google.protobuf.message.DecodeError: Error parsing message with type 'grpc.edge.AggregatedWeights'
2025-02-26 22:19:16,961 - INFO - Edge layer started on port 8083.
2025-02-26 22:19:39,695 - ERROR - Exception deserializing message!
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_common.py", line 89, in _transform
    return transformer(message)
google.protobuf.message.DecodeError: Error parsing message with type 'grpc.edge.AggregatedWeights'
2025-02-26 22:23:55,163 - INFO - Edge layer started on port 8083.
2025-02-26 22:24:14,073 - ERROR - Exception deserializing message!
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_common.py", line 89, in _transform
    return transformer(message)
google.protobuf.message.DecodeError: Error parsing message with type 'grpc.edge.AggregatedWeights'
2025-02-26 22:25:11,328 - INFO - Edge layer started on port 8083.
2025-02-26 22:25:29,465 - INFO - Received aggregated weights with version: 12
2025-02-26 22:25:29,465 - WARNING - Received version 12 is ahead of the server version 1. Fetching latest weights from MongoDB.
2025-02-26 22:25:29,624 - INFO - Latest entry ID: 67bfdb28b37d6002dbb17179, Version: 12
2025-02-26 22:25:29,644 - ERROR - Insufficient weights for key: fc2.weight
2025-02-26 22:25:29,647 - ERROR - Exception calling application: cannot unpack non-iterable int object
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/server.py", line 157, in AggregateAndUpdateModel
    latest_weights, latest_version = fetch_latest_weights()
TypeError: cannot unpack non-iterable int object
2025-02-26 23:49:14,553 - INFO - Edge layer started on port 8083.
2025-02-26 23:54:49,382 - INFO - Edge layer started on port 8083.
2025-02-26 23:59:54,832 - INFO - Edge layer started on port 8083.
2025-02-27 00:01:16,864 - INFO - Edge layer started on port 8083.
2025-02-27 00:03:29,414 - INFO - Edge layer started on port 8083.
2025-02-27 00:06:24,551 - ERROR - Exception deserializing message!
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_common.py", line 89, in _transform
    return transformer(message)
google.protobuf.message.DecodeError: Error parsing message with type 'grpc.edge.AggregatedWeights'
2025-02-27 00:09:34,332 - INFO - Edge layer started on port 8083.
2025-02-27 00:17:07,871 - INFO - Edge layer started on port 8083.
2025-02-27 00:52:38,817 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-27 00:52:38,817 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-27 00:52:38,817 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-27 00:52:38,818 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-27 00:52:38,819 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-27 00:52:38,819 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 00:53:01,107 - INFO - Received aggregated weights with version: 14
2025-02-27 00:53:01,107 - ERROR - Unknown model name: 
2025-02-27 00:53:59,624 - INFO - Edge layer started on port 8083.
2025-02-27 00:55:45,356 - INFO - Received aggregated weights with version: 16
2025-02-27 00:55:45,359 - INFO - Using  model for aggregation.
2025-02-27 00:55:45,359 - WARNING - Client version 16 is ahead. Fetching latest weights.
2025-02-27 00:55:45,448 - INFO - Latest entry ID: 67bffe60d039189d749b2e08, Version: 16
2025-02-27 00:55:45,468 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 00:55:45,549 - INFO - FedAvg applied, updated model version: 1
2025-02-27 00:55:45,925 - INFO - Sending model weights to L2 server
2025-02-27 00:55:45,926 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 00:57:02,815 - INFO - Edge layer started on port 8083.
2025-02-27 00:57:37,731 - INFO - Received aggregated weights with version: 17
2025-02-27 00:57:37,734 - INFO - Using  model for aggregation.
2025-02-27 00:57:37,734 - WARNING - Client version 17 is ahead. Fetching latest weights.
2025-02-27 00:57:37,861 - INFO - Latest entry ID: 67bffed0d039189d749b2e0a, Version: 17
2025-02-27 00:57:37,904 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 00:57:37,965 - INFO - FedAvg applied, updated model version: 1
2025-02-27 00:57:38,313 - INFO - Sending model weights to L2 server
2025-02-27 00:57:38,314 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 00:59:53,829 - INFO - Edge layer started on port 8083.
2025-02-27 00:59:58,432 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-27 00:59:58,432 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-02-27 00:59:58,432 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-27 00:59:58,432 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-27 00:59:58,433 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-27 00:59:58,433 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-27 00:59:58,433 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 00:59:58,433 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-27 00:59:58,433 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-27 00:59:58,433 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-27 00:59:58,434 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-27 00:59:58,434 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-27 01:00:23,110 - INFO - Received aggregated weights with version: 18
2025-02-27 01:00:23,113 - INFO - Using  model for aggregation.
2025-02-27 01:00:23,113 - WARNING - Client version 18 is ahead. Fetching latest weights.
2025-02-27 01:00:23,203 - INFO - Latest entry ID: 67bfff76cdb95dd776b2d1ad, Version: 18
2025-02-27 01:00:23,238 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 01:00:23,271 - INFO - FedAvg applied, updated model version: 1
2025-02-27 01:00:23,616 - INFO - Sending model weights to L2 server
2025-02-27 01:00:23,616 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 01:09:02,246 - INFO - Edge layer started on port 8083.
2025-02-27 01:10:03,404 - INFO - Received aggregated weights with version: 19
2025-02-27 01:10:03,406 - INFO - Using  model for aggregation.
2025-02-27 01:10:03,406 - WARNING - Client version 19 is ahead. Fetching latest weights.
2025-02-27 01:10:03,564 - INFO - Latest entry ID: 67c001bacdb95dd776b2d1af, Version: 19
2025-02-27 01:10:03,585 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 01:10:03,616 - INFO - FedAvg applied, updated model version: 1
2025-02-27 01:10:03,934 - INFO - Sending model weights to L2 server
2025-02-27 01:10:03,935 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 01:22:04,031 - INFO - Edge layer started on port 8083.
2025-02-27 01:36:25,568 - INFO - Edge layer started on port 8083.
2025-02-27 01:36:47,535 - INFO - Received aggregated weights with version: 20
2025-02-27 01:36:47,537 - INFO - Using  model for aggregation.
2025-02-27 01:36:47,538 - WARNING - Client version 20 is ahead. Fetching latest weights.
2025-02-27 01:36:47,627 - INFO - Latest entry ID: 67c001bacdb95dd776b2d1af, Version: 19
2025-02-27 01:36:47,645 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 01:36:47,681 - INFO - FedAvg applied, updated model version: 1
2025-02-27 01:36:48,002 - INFO - Sending model weights to L2 server
2025-02-27 01:36:48,002 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-27 01:52:16,229 - INFO - Received aggregated weights with version: 20
2025-02-27 01:52:16,232 - INFO - Using  model for aggregation.
2025-02-27 01:52:16,232 - WARNING - Client version 20 is ahead. Fetching latest weights.
2025-02-27 01:52:16,306 - INFO - Latest entry ID: 67c001bacdb95dd776b2d1af, Version: 19
2025-02-27 01:52:16,324 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 01:52:16,357 - INFO - FedAvg applied, updated model version: 2
2025-02-27 01:52:16,625 - INFO - Sending model weights to L2 server
2025-02-27 02:02:34,178 - INFO - Received aggregated weights with version: 20
2025-02-27 02:02:34,181 - INFO - Using  model for aggregation.
2025-02-27 02:02:34,181 - WARNING - Client version 20 is ahead. Fetching latest weights.
2025-02-27 02:02:34,254 - INFO - Latest entry ID: 67c001bacdb95dd776b2d1af, Version: 19
2025-02-27 02:02:34,272 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 02:02:34,304 - INFO - FedAvg applied, updated model version: 3
2025-02-27 02:02:34,579 - INFO - Sending model weights to L2 server
2025-02-27 02:23:29,357 - INFO - Received aggregated weights with version: 20
2025-02-27 02:23:29,360 - INFO - Using  model for aggregation.
2025-02-27 02:23:29,360 - WARNING - Client version 20 is ahead. Fetching latest weights.
2025-02-27 02:23:29,433 - INFO - Latest entry ID: 67c001bacdb95dd776b2d1af, Version: 19
2025-02-27 02:23:29,451 - INFO - Loaded latest model weights from MongoDB.
2025-02-27 02:23:29,482 - INFO - FedAvg applied, updated model version: 4
2025-02-27 02:23:29,775 - INFO - Sending model weights to L2 server
2025-02-28 16:02:29,134 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-02-28 16:02:29,139 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-02-28 16:02:29,140 - DEBUG - 
def xmap(task, it):
    return 1

2025-02-28 16:02:29,140 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-02-28 16:02:29,140 - DEBUG - 
def backend_cleanup():
    return 1

2025-02-28 16:02:29,140 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-02-28 16:02:29,140 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-28 16:02:29,140 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-02-28 16:02:29,141 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-02-28 16:02:29,141 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-02-28 16:02:29,141 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-02-28 16:02:29,141 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-02-28 17:52:29,342 - INFO - Edge layer started on port 8083.
2025-02-28 18:04:07,443 - INFO - Received aggregated weights with version: 1
2025-02-28 18:04:07,446 - INFO - Using  model for aggregation.
2025-02-28 18:04:07,498 - INFO - FedAvg applied, updated model version: 1
2025-02-28 18:04:07,851 - INFO - Sending model weights to L2 server
2025-02-28 18:04:07,851 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-02-28 18:10:23,171 - INFO - Edge layer started on port 8083.
2025-02-28 18:10:34,642 - INFO - Received aggregated weights with version: 1
2025-02-28 18:10:34,646 - INFO - Using  model for aggregation.
2025-02-28 18:10:34,692 - INFO - FedAvg applied, updated model version: 1
2025-02-28 18:10:35,010 - INFO - Sending model weights to L2 server
2025-02-28 18:10:35,010 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 12:34:51,284 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 12:34:51,292 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 12:34:51,292 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 12:34:51,293 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 12:34:51,293 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 12:34:51,293 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 12:34:51,293 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 12:34:51,293 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 12:34:51,293 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 12:34:51,294 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 12:34:51,294 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 12:34:51,294 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 12:38:21,518 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 12:38:21,518 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 12:38:21,518 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 12:38:21,518 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 12:38:21,519 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 12:38:21,519 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 12:38:21,519 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 12:38:21,519 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 12:38:21,519 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 12:38:21,519 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 12:38:21,520 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 12:38:21,520 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 12:40:52,074 - INFO - Edge layer started on port 8083.
2025-03-01 12:41:48,243 - INFO - Received aggregated weights with version: 1
2025-03-01 12:41:48,245 - INFO - Using  model for aggregation.
2025-03-01 12:41:48,271 - INFO - FedAvg applied, updated model version: 1
2025-03-01 12:41:48,620 - INFO - Sending model weights to L2 server
2025-03-01 12:41:48,620 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 12:46:52,920 - INFO - Received aggregated weights with version: 1
2025-03-01 12:46:52,923 - INFO - Using  model for aggregation.
2025-03-01 12:46:52,973 - INFO - FedAvg applied, updated model version: 2
2025-03-01 12:46:53,284 - INFO - Sending model weights to L2 server
2025-03-01 12:49:43,772 - INFO - Received aggregated weights with version: 3
2025-03-01 12:49:43,774 - INFO - Using  model for aggregation.
2025-03-01 12:49:43,774 - WARNING - Client version 3 is ahead. Fetching latest weights.
2025-03-01 12:49:43,856 - WARNING - No valid weights found in MongoDB for simplecnn. Using default weights.
2025-03-01 12:49:43,889 - INFO - FedAvg applied, updated model version: 3
2025-03-01 12:49:44,195 - INFO - Sending model weights to L2 server
2025-03-01 12:56:03,731 - INFO - Received aggregated weights with version: 1
2025-03-01 12:56:03,734 - INFO - Using  model for aggregation.
2025-03-01 12:56:03,785 - INFO - FedAvg applied, updated model version: 4
2025-03-01 12:56:04,087 - INFO - Sending model weights to L2 server
2025-03-01 13:05:40,700 - INFO - Received aggregated weights with version: 1
2025-03-01 13:05:40,703 - INFO - Using  model for aggregation.
2025-03-01 13:05:40,732 - INFO - FedAvg applied, updated model version: 5
2025-03-01 13:05:41,030 - INFO - Sending model weights to L2 server
2025-03-01 13:06:16,357 - INFO - Received aggregated weights with version: 1
2025-03-01 13:06:16,359 - INFO - Using  model for aggregation.
2025-03-01 13:06:16,409 - INFO - FedAvg applied, updated model version: 6
2025-03-01 13:06:16,691 - INFO - Sending model weights to L2 server
2025-03-01 13:10:00,654 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 13:10:00,654 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 13:10:00,654 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 13:10:00,654 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 13:10:00,654 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 13:10:00,654 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 13:10:00,655 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 13:10:00,655 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 13:10:00,655 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 13:10:00,655 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 13:10:00,655 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 13:10:00,655 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 13:10:20,253 - INFO - Received aggregated weights with version: 1
2025-03-01 13:10:20,256 - INFO - Using  model for aggregation.
2025-03-01 13:10:20,313 - INFO - FedAvg applied, updated model version: 7
2025-03-01 13:10:20,583 - INFO - Sending model weights to L2 server
2025-03-01 13:14:42,439 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 13:14:42,439 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 13:14:42,439 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 13:14:42,439 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 13:14:42,439 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 13:14:42,439 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 13:14:42,440 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 13:14:42,440 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 13:14:42,440 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 13:14:42,440 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 13:14:42,440 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 13:14:42,440 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 13:15:02,015 - INFO - Edge layer started on port 8083.
2025-03-01 13:15:20,147 - INFO - Received aggregated weights with version: 1
2025-03-01 13:15:20,149 - INFO - Using  model for aggregation.
2025-03-01 13:15:20,183 - INFO - FedAvg applied, updated model version: 1
2025-03-01 13:15:20,621 - INFO - Sending model weights to L2 server
2025-03-01 13:15:20,621 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 13:17:18,169 - INFO - Received aggregated weights with version: 2
2025-03-01 13:17:18,172 - INFO - Using  model for aggregation.
2025-03-01 13:17:18,172 - WARNING - Client version 2 is ahead. Fetching latest weights.
2025-03-01 13:17:18,257 - INFO - Fetched latest model weights for simplecnn, Version: 2
2025-03-01 13:17:18,276 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 13:17:18,310 - INFO - FedAvg applied, updated model version: 2
2025-03-01 13:17:18,670 - INFO - Sending model weights to L2 server
2025-03-01 13:17:46,945 - INFO - Edge layer started on port 8083.
2025-03-01 13:18:05,430 - INFO - Received aggregated weights with version: 4
2025-03-01 13:18:05,432 - INFO - Using  model for aggregation.
2025-03-01 13:18:05,432 - WARNING - Client version 4 is ahead. Fetching latest weights.
2025-03-01 13:18:05,522 - INFO - Fetched latest model weights for simplecnn, Version: 4
2025-03-01 13:18:05,540 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 13:18:05,617 - INFO - FedAvg applied, updated model version: 1
2025-03-01 13:18:05,629 - ERROR - Exception calling application: name 'Edge' is not defined
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/server.py", line 165, in AggregateAndUpdateModel
    "Layer": Edge,
NameError: name 'Edge' is not defined
2025-03-01 13:19:06,401 - INFO - Edge layer started on port 8083.
2025-03-01 13:19:23,995 - INFO - Received aggregated weights with version: 5
2025-03-01 13:19:23,998 - INFO - Using  model for aggregation.
2025-03-01 13:19:23,998 - WARNING - Client version 5 is ahead. Fetching latest weights.
2025-03-01 13:19:24,135 - INFO - Fetched latest model weights for simplecnn, Version: 5
2025-03-01 13:19:24,152 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 13:19:24,183 - INFO - FedAvg applied, updated model version: 1
2025-03-01 13:19:24,588 - INFO - Sending model weights to L2 server
2025-03-01 13:19:24,588 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 13:22:38,911 - INFO - Edge layer started on port 8083.
2025-03-01 13:23:01,173 - INFO - Received aggregated weights with version: 7
2025-03-01 13:23:01,176 - INFO - Using  model for aggregation.
2025-03-01 13:23:01,176 - WARNING - Received version 7 is ahead. Fetching latest weights.
2025-03-01 13:23:01,307 - INFO - Fetched latest model weights for simplecnn, Version: 7
2025-03-01 13:23:01,343 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 13:23:01,379 - INFO - FedAvg applied, updated model version: 1
2025-03-01 13:23:02,678 - INFO - Task result: 67c350862663ad1aa9ff21c1
2025-03-01 13:23:02,679 - INFO - Global model updated. Inserted ID: 67c350862663ad1aa9ff21c1, Version: 1
2025-03-01 13:23:02,679 - INFO - Sending model weights to L2 server
2025-03-01 13:23:02,680 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 13:29:26,480 - INFO - Edge layer started on port 8083.
2025-03-01 14:39:40,913 - INFO - Edge layer started on port 8083.
2025-03-01 14:41:12,537 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 14:41:12,537 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 14:41:12,537 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 14:41:12,538 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 14:41:12,538 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 14:41:12,538 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 14:41:12,538 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 14:41:12,538 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 14:41:12,538 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 14:41:12,539 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 14:41:12,539 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 14:41:12,539 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 14:41:32,782 - INFO - Received aggregated weights with version: 1
2025-03-01 14:41:32,782 - ERROR - Error fetching weights for simplecnn from MongoDB: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None
2025-03-01 14:41:32,841 - INFO - FedAvg applied, updated model version: 2
2025-03-01 14:46:59,402 - INFO - Edge layer started on port 8083.
2025-03-01 14:47:16,965 - INFO - Received aggregated weights with version: 2
2025-03-01 14:47:17,076 - INFO - Fetched latest model weights for simplecnn, Version: 2
2025-03-01 14:47:17,096 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 14:47:17,100 - WARNING - Received version 2 is ahead. Fetching latest weights.
2025-03-01 14:47:17,179 - INFO - Fetched latest model weights for simplecnn, Version: 2
2025-03-01 14:47:17,200 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 14:47:17,230 - INFO - FedAvg applied, updated model version: 2
2025-03-01 14:47:18,239 - INFO - Task result: 67c3644579e884ad2f2392a9
2025-03-01 14:47:18,239 - INFO - Global model updated. Inserted ID: 67c3644579e884ad2f2392a9, Version: 2
2025-03-01 14:47:18,240 - INFO - Sending model weights to L2 server
2025-03-01 14:47:18,240 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 14:49:06,081 - INFO - Edge layer started on port 8083.
2025-03-01 14:49:25,640 - INFO - Received aggregated weights with version: 1
2025-03-01 14:49:25,752 - INFO - Fetched latest model weights for simplecnn, Version: 1
2025-03-01 14:49:25,776 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 14:49:25,806 - INFO - FedAvg applied, updated model version: 2
2025-03-01 14:49:26,818 - INFO - Task result: 67c364c679e884ad2f2392ab
2025-03-01 14:49:26,818 - INFO - Global model updated. Inserted ID: 67c364c679e884ad2f2392ab, Version: 2
2025-03-01 14:49:26,818 - INFO - Sending model weights to L2 server
2025-03-01 14:49:26,819 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 20:18:42,353 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 20:18:42,363 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 20:18:42,363 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 20:18:42,363 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 20:18:42,363 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 20:18:42,363 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 20:18:42,363 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 20:18:42,364 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 20:18:42,364 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 20:18:42,364 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 20:18:42,364 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 20:18:42,364 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 20:41:16,062 - INFO - Edge layer started on port 8083.
2025-03-01 20:41:57,608 - INFO - Received aggregated weights with version: 4
2025-03-01 20:41:57,896 - INFO - Fetched latest model weights for simplecnn, Version: 4
2025-03-01 20:41:57,949 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 20:41:57,953 - INFO - Updated current version to 5 (received version 4 + 1)
2025-03-01 20:41:57,980 - INFO - FedAvg applied, updated model version: 6
2025-03-01 20:41:59,141 - INFO - Task result: 67c3b76637e0e85cfce3b9ed
2025-03-01 20:41:59,141 - INFO - Global model updated. Inserted ID: 67c3b76637e0e85cfce3b9ed, Version: 6
2025-03-01 20:41:59,142 - INFO - Sending model weights to L2 server
2025-03-01 20:41:59,142 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 20:46:57,279 - INFO - Edge layer started on port 8083.
2025-03-01 21:09:52,439 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 21:09:52,440 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 21:09:52,440 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 21:09:52,440 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 21:09:52,440 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 21:09:52,440 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 21:09:52,440 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 21:09:52,441 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 21:09:52,441 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 21:09:52,441 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 21:09:52,441 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 21:09:52,441 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 21:29:04,985 - INFO - Received aggregated weights with version: 3
2025-03-01 21:29:05,125 - INFO - Fetched latest model weights for simplecnn, Version: 3
2025-03-01 21:29:05,165 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 21:29:05,170 - INFO - Updated current version to 4)
2025-03-01 21:29:05,201 - INFO - FedAvg applied, updated model version: 5
2025-03-01 21:29:06,385 - INFO - Task result: 67c3c2711aace9413a00e618
2025-03-01 21:29:06,386 - INFO - Global model updated. Inserted ID: 67c3c2711aace9413a00e618, Version: 5
2025-03-01 21:29:06,386 - INFO - Sending model weights to L2 server
2025-03-01 21:29:06,388 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 21:29:59,545 - INFO - Edge layer started on port 8088.
2025-03-01 21:31:15,028 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 21:31:15,028 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 21:31:15,028 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 21:31:15,028 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 21:31:15,029 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 21:31:15,030 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 21:33:13,169 - INFO - Edge layer started on port 8083.
2025-03-01 21:33:31,020 - INFO - Received aggregated weights with version: 2
2025-03-01 21:33:31,160 - INFO - Fetched latest model weights for simplecnn, Version: 2
2025-03-01 21:33:31,182 - INFO - Loaded latest model weights for simplecnn from MongoDB.
2025-03-01 21:33:31,218 - INFO - FedAvg applied, updated model version: 3
2025-03-01 21:33:32,229 - INFO - Task result: 67c3c37b00fd5e144a58e69c
2025-03-01 21:33:32,229 - INFO - Global model updated. Inserted ID: 67c3c37b00fd5e144a58e69c, Version: 3
2025-03-01 21:33:32,229 - INFO - Sending model weights to L2 server
2025-03-01 21:33:32,229 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 23:20:54,767 - INFO - Edge layer started on port 8083.
2025-03-01 23:26:52,600 - INFO - Received aggregated weights with version: 1
2025-03-01 23:26:52,635 - WARNING - No valid weights found in MongoDB for twocnn. Using default model: TwoCNN.
2025-03-01 23:26:52,663 - INFO - FedAvg applied, updated model version: 2
2025-03-01 23:31:47,314 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-01 23:31:47,314 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-01 23:31:47,314 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 23:31:47,314 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-01 23:31:47,315 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-01 23:31:47,315 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-01 23:31:47,315 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-01 23:31:47,315 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-01 23:31:47,315 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-01 23:31:47,315 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-01 23:31:47,316 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-01 23:31:47,316 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-01 23:32:36,077 - INFO - Edge layer started on port 8083.
2025-03-01 23:32:57,877 - INFO - Received aggregated weights with version: 1
2025-03-01 23:32:58,004 - INFO - Fetched latest model weights for twocnn, Version: 1
2025-03-01 23:32:58,040 - INFO - Loaded latest model weights for twocnn from MongoDB.
2025-03-01 23:32:58,071 - INFO - FedAvg applied, updated model version: 2
2025-03-01 23:32:59,177 - INFO - Task result: 67c3df7abd6ecf7098000531
2025-03-01 23:32:59,178 - INFO - Global model updated. Inserted ID: 67c3df7abd6ecf7098000531, Version: 2
2025-03-01 23:32:59,178 - INFO - Sending model weights to L2 server
2025-03-01 23:32:59,179 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-01 23:50:41,722 - INFO - Edge layer started on port 8083.
2025-03-02 00:04:58,373 - INFO - Received aggregated weights with version: 5
2025-03-02 00:04:58,374 - ERROR - Unknown or missing model name: logistic_regression
2025-03-02 00:05:34,623 - INFO - Edge layer started on port 8083.
2025-03-02 00:06:52,995 - INFO - Received aggregated weights with version: 6
2025-03-02 00:06:53,029 - INFO - Fetched latest model weights for logistic_regression, Version: 6
2025-03-02 00:06:53,031 - INFO - Loaded latest model weights for logistic_regression from MongoDB.
2025-03-02 00:06:53,033 - INFO - FedAvg applied, updated model version: 7
2025-03-02 00:06:53,195 - INFO - Task result: 67c3e76dbd6ecf7098000533
2025-03-02 00:06:53,195 - INFO - Global model updated. Inserted ID: 67c3e76dbd6ecf7098000533, Version: 7
2025-03-02 00:06:53,195 - INFO - Sending model weights to L2 server
2025-03-02 00:06:53,195 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-02 00:09:36,853 - INFO - Edge layer started on port 8083.
2025-03-02 00:13:48,917 - INFO - Received aggregated weights with version: 1
2025-03-02 00:13:49,166 - INFO - Fetched latest model weights for squeezenet, Version: 1
2025-03-02 00:13:49,194 - INFO - Loaded latest model weights for squeezenet from MongoDB.
2025-03-02 00:13:49,246 - INFO - FedAvg applied, updated model version: 2
2025-03-02 00:13:50,952 - INFO - Task result: 67c3e90ebd6ecf7098000535
2025-03-02 00:13:50,953 - INFO - Global model updated. Inserted ID: 67c3e90ebd6ecf7098000535, Version: 2
2025-03-02 00:13:50,953 - INFO - Sending model weights to L2 server
2025-03-02 00:13:50,954 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-02 00:22:53,067 - INFO - Edge layer started on port 8083.
2025-03-02 00:55:53,551 - INFO - Edge layer started on port 8083.
2025-03-02 01:21:54,154 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-02 01:21:54,154 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-02 01:21:54,154 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-02 01:21:54,154 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-02 01:21:54,154 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-02 01:21:54,164 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-02 01:21:54,164 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-02 01:21:54,164 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-02 01:21:54,165 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-02 01:21:54,165 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-02 01:21:54,165 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-02 01:21:54,165 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-02 01:22:23,588 - INFO - Edge layer started on port 8083.
2025-03-02 01:35:32,487 - INFO - Edge layer started on port 8083.
2025-03-09 19:12:30,601 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-09 19:12:30,612 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-09 19:12:30,613 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-09 19:12:30,613 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-09 19:12:30,613 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-09 19:12:30,613 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-09 19:12:30,613 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-09 19:12:30,613 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-09 19:12:30,614 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-09 19:12:30,614 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-09 19:12:30,614 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-09 19:12:30,614 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-09 19:30:45,390 - INFO - Edge layer started on port 8083.
2025-03-23 18:27:35,597 - INFO - Edge layer started on port 8083.
2025-03-23 18:53:27,634 - INFO - Edge layer started on port 8083.
2025-03-23 19:14:10,304 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 19:14:10,305 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 19:14:10,305 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 19:14:10,305 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 19:14:10,305 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 19:14:10,305 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 19:14:10,306 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 19:14:10,306 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 19:14:10,306 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 19:14:10,306 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 19:14:10,306 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 19:14:10,306 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 19:16:45,787 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 19:16:45,787 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 19:16:45,787 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 19:16:45,787 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 19:16:45,788 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 19:16:45,788 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 19:16:45,788 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 19:16:45,788 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 19:16:45,788 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 19:16:45,788 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 19:16:45,789 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 19:16:45,789 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 19:16:54,195 - INFO - Edge layer started on port 8083.
2025-03-23 19:22:57,488 - INFO - Received aggregated weights with version: 10
2025-03-23 19:22:58,708 - ERROR -  Incomplete chunk set: Expected 6, found 3
2025-03-23 19:22:59,014 - ERROR -  Failed to process received weights: name 'bz2' is not defined
2025-03-23 19:24:00,150 - INFO - Edge layer started on port 8083.
2025-03-23 19:26:04,910 - INFO - Received aggregated weights with version: 11
2025-03-23 19:26:06,203 - ERROR -  Incomplete chunk set: Expected 6, found 3
2025-03-23 19:26:10,463 - INFO -  Decompressed weights for resnet
2025-03-23 19:26:10,488 - INFO -  Aggregated and updated resnet model
2025-03-23 19:26:17,625 - ERROR - Error checking spot instance status: name 'spot_collection' is not defined
2025-03-23 19:26:17,625 - INFO -  Spot L2 unavailable. Sending resnet to Top Layer.
2025-03-23 19:26:17,625 - ERROR -  Failed to forward weights: name 'send_model_to_l3_async' is not defined
2025-03-23 19:27:52,352 - INFO - Edge layer started on port 8083.
2025-03-23 19:28:03,183 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 19:28:03,183 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 19:28:03,183 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 19:28:03,183 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 19:28:03,184 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 19:28:03,184 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 19:28:03,184 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 19:28:03,184 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 19:28:03,184 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 19:28:03,184 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 19:28:03,185 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 19:28:03,185 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 19:30:00,538 - INFO - Received aggregated weights with version: 12
2025-03-23 19:30:01,901 - ERROR -  Incomplete chunk set: Expected 6, found 4
2025-03-23 19:30:06,154 - INFO -  Decompressed weights for resnet
2025-03-23 19:30:06,179 - INFO -  Aggregated and updated resnet model
2025-03-23 19:30:13,331 - INFO - Spot instance status: Layer=l2, Kill_signal=False, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 19:30:13,332 - INFO -  Spot L2 available. Sending resnet to L2.
2025-03-23 19:30:13,334 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 19:32:57,300 - INFO - Received aggregated weights with version: 15
2025-03-23 19:32:58,611 - ERROR -  Incomplete chunk set: Expected 6, found 4
2025-03-23 19:33:03,817 - INFO -  Decompressed weights for resnet
2025-03-23 19:33:03,842 - INFO -  Aggregated and updated resnet model
2025-03-23 19:33:10,981 - INFO - Spot instance status: Layer=l2, Kill_signal=False, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 19:33:10,981 - INFO -  Spot L2 available. Sending resnet to L2.
2025-03-23 19:35:28,515 - INFO - Received aggregated weights with version: 18
2025-03-23 19:35:29,847 - ERROR -  Incomplete chunk set: Expected 6, found 4
2025-03-23 19:35:34,321 - INFO -  Decompressed weights for resnet
2025-03-23 19:35:34,345 - INFO -  Aggregated and updated resnet model
2025-03-23 19:35:41,421 - INFO - Spot instance status: Layer=l2, Kill_signal=True, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 19:35:41,421 - WARNING - No spot instance status found.
2025-03-23 19:35:41,421 - INFO -  Spot L2 unavailable. Sending resnet to Top Layer.
2025-03-23 19:35:41,421 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 19:37:57,805 - INFO - Edge layer started on port 8083.
2025-03-23 19:38:07,376 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 19:38:07,376 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 19:38:07,377 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 19:38:07,377 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 19:38:07,377 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 19:38:07,377 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 19:38:07,378 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 19:38:07,378 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 19:38:07,378 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 19:38:07,378 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 19:38:07,379 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 19:38:07,379 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 19:40:10,276 - INFO - Received aggregated weights with version: 19
2025-03-23 19:40:11,624 - ERROR -  Incomplete chunk set: Expected 6, found 4
2025-03-23 19:40:15,911 - INFO -  Decompressed weights for resnet
2025-03-23 19:40:15,936 - INFO -  Aggregated and updated resnet model
2025-03-23 19:40:23,091 - INFO - Spot instance status: Layer=l2, Kill_signal=False, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 19:40:23,091 - INFO -  Spot L2 available. Sending resnet to L2.
2025-03-23 19:40:23,093 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 19:42:35,937 - INFO - Received aggregated weights with version: 22
2025-03-23 19:42:37,236 - ERROR -  Incomplete chunk set: Expected 6, found 4
2025-03-23 19:42:41,444 - INFO -  Decompressed weights for resnet
2025-03-23 19:42:41,469 - INFO -  Aggregated and updated resnet model
2025-03-23 19:42:48,614 - INFO - Spot instance status: Layer=l2, Kill_signal=True, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 19:42:48,614 - WARNING - No spot instance status found.
2025-03-23 19:42:48,615 - INFO -  Spot L2 unavailable. Sending resnet to Top Layer.
2025-03-23 19:42:48,615 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 19:49:30,174 - INFO - Edge layer started on port 8083.
2025-03-23 19:53:28,063 - INFO - Received aggregated weights with version: 25
2025-03-23 19:53:30,050 - INFO -  Reconstructing model weights from 6 chunks for resnet (Batch ID: resnet_20250323235327).
2025-03-23 19:53:30,050 - INFO -  Chunk sizes: [15728640, 15728640, 15728640, 15728640, 15728640, 11202902] | Total size before joining: 89846102 bytes
2025-03-23 19:53:30,086 - INFO -  Successfully joined 6 chunks. Total size: 89846102 bytes
2025-03-23 19:53:34,063 - INFO -  Successfully loaded PyTorch state_dict for resnet. Type: <class 'collections.OrderedDict'>
2025-03-23 19:53:34,357 - INFO -  Updated global model to version 1 for resnet
2025-03-23 19:53:38,314 - INFO -  Decompressed weights for resnet
2025-03-23 19:53:45,469 - ERROR - Exception calling application: client_training_time
Traceback (most recent call last):
  File "/home/cloudlabgpu1/shenv/lib/python3.10/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
  File "/home/cloudlabgpu1/grpc_spotlight/GRPC-Edge/server.py", line 233, in AggregateAndUpdateModel
    "Client_training_time": request.client_training_time,
AttributeError: client_training_time
2025-03-23 20:00:21,657 - INFO - Edge layer started on port 8083.
2025-03-23 20:00:48,294 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 20:00:48,294 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 20:00:48,294 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 20:00:48,294 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 20:00:48,295 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 20:00:48,295 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 20:00:48,295 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 20:00:48,295 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 20:00:48,295 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 20:00:48,296 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 20:00:48,296 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 20:00:48,296 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 20:01:30,255 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 20:01:30,255 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 20:01:30,255 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 20:01:30,255 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 20:01:30,255 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 20:01:30,255 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 20:01:30,256 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 20:01:30,256 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 20:01:30,256 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 20:01:30,256 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 20:01:30,256 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 20:01:30,256 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 20:03:23,342 - INFO - Received aggregated weights with version: 26
2025-03-23 20:03:25,271 - INFO -  Reconstructing model weights from 6 chunks for resnet (Batch ID: resnet_20250324000323).
2025-03-23 20:03:25,271 - INFO -  Chunk sizes: [15728640, 15728640, 15728640, 15728640, 15728640, 11200127] | Total size before joining: 89843327 bytes
2025-03-23 20:03:25,328 - INFO -  Successfully joined 6 chunks. Total size: 89843327 bytes
2025-03-23 20:03:29,296 - INFO -  Successfully loaded PyTorch state_dict for resnet. Type: <class 'collections.OrderedDict'>
2025-03-23 20:03:29,590 - INFO -  Updated global model to version 1 for resnet
2025-03-23 20:03:33,553 - INFO -  Decompressed weights for resnet
2025-03-23 20:03:42,336 - INFO -  Stored aggregated weights for resnet in MongoDB.
2025-03-23 20:03:43,100 - INFO -  Updated resnet model to version 27
2025-03-23 20:03:43,113 - INFO - Spot instance status: Layer=l2, Kill_signal=False, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 20:03:43,113 - INFO -  Spot L2 available. Sending resnet to L2.
2025-03-23 20:03:43,113 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 20:06:49,827 - INFO - Edge layer started on port 8083.
2025-03-23 20:06:54,697 - DEBUG - 
def xstarmap(task, it):
    return 1

2025-03-23 20:06:54,697 - DEBUG - 
def chord(self, header, body, partial_args=0, interval=1, countdown=2, max_retries=3, eager=4, **kwargs):
    return 1

2025-03-23 20:06:54,697 - DEBUG - 
def accumulate(self, *args, **kwargs):
    return 1

2025-03-23 20:06:54,697 - DEBUG - 
def send_model_to_l3_async(updated_model_weights_l3):
    return 1

2025-03-23 20:06:54,697 - DEBUG - 
def chunks(task, it, n):
    return 1

2025-03-23 20:06:54,698 - DEBUG - 
def unlock_chord(self, group_id, callback, interval=0, max_retries=1, result=2, Result=3, GroupResult=4, result_from_tuple=5, **kwargs):
    return 1

2025-03-23 20:06:54,698 - DEBUG - 
def group(self, tasks, result, group_id, partial_args, add_to_parent=0):
    return 1

2025-03-23 20:06:54,698 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

2025-03-23 20:06:54,698 - DEBUG - 
def xmap(task, it):
    return 1

2025-03-23 20:06:54,698 - DEBUG - 
def store_aggregated_weights_task(model_weights, model_name):
    return 1

2025-03-23 20:06:54,699 - DEBUG - 
def chain(*args, **kwargs):
    return 1

2025-03-23 20:06:54,699 - DEBUG - 
def backend_cleanup():
    return 1

2025-03-23 20:08:44,781 - INFO - Received aggregated weights with version: 29
2025-03-23 20:08:46,162 - ERROR -  Incomplete chunk set: Expected 6, found 4
2025-03-23 20:08:50,419 - INFO -  Decompressed weights for resnet
2025-03-23 20:09:00,271 - INFO -  Updated resnet model to version 30
2025-03-23 20:09:00,273 - INFO - Spot instance status: Layer=l2, Kill_signal=False, Timestamp=2025-02-26 22:39:10.675000
2025-03-23 20:09:00,274 - INFO -  Spot L2 available. Sending resnet to L2.
2025-03-23 20:09:00,274 - DEBUG - 
def send_model_to_l2_async(weights_payload):
    return 1

